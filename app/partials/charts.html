<div class="alert alert-danger" ng-if="pageGestures.length == 0">
  <strong>Sorry, no gestures found for the current filters.</strong>
</div>

<div class="chart-wrapper" ng-repeat="config in charts">

	<div class="chart-utils">
		<button class="btn btn-sm btn-danger" ng-click="removeChart($index)">Remove</button>
	</div>

	<div class="chart-holder">

	<highchart id="chart1" config="config.chart"></highchart>
	
	</div>
</div>



<div class="container-fluid">
	<div class="row" id="add-chart" class="chart-wrapper">
		<div class="col-sm-4" style="padding-rigth: 10px;">
			<h3>Create chart</h3>
			<form>
				<p> 
					<label for="chart-type">Chart type</label> <br/>
					<select name="chart-type" id="chart-type" ng-model="chartBuilder.type" ng-change="updateChart()">
						<option value="column">Columns chart</option>
						<option value="bar">Bar chart</option>
						<option value="line">Lines chart</option>
						<option value="radar">Radar chart</option>
						
					</select>
				</p>

				<p> 
					<label for="chart-x">X</label> <br/>
					<select name="chart-x" id="chart-x" ng-model="chartBuilder.x" ng-change="updateChart()">
						<option value="{{ opt.field }}" ng-if="opt.shown" ng-repeat="opt in schemaList"  ng-selected="chartBuilder.x === opt.field">{{ opt.name | capitalize }}</option>
					</select>
				</p>

				<p> 
					<label for="chart-y">Y</label> 
					<span>
						<input type="checkbox" ng-model="chartBuilder.qty" ng-change="updateChart()" /> Number of items
					</span> <br/>
					<select ng-disabled="chartBuilder.qty" name="chart-y" id="chart-y" ng-model="chartBuilder.y" ng-change="updateChart()">
						<option value="{{ opt.field }}" ng-if="opt.shown" ng-repeat="opt in schemaList"ng-selected="chartBuilder.y === opt.field">{{ opt.name | capitalize }}</option>
					</select>
				</p>

				<p> 
					<label for="chart-thresh">Threshold</label> 
					<span>
						<input type="checkbox" ng-disabled="chartBuilder.qty" ng-model="chartBuilder.useThreshold" ng-change="updateChart()" /> Use threshold
					</span> <br/>
					<input type="number" ng-disabled="!chartBuilder.useThreshold || chartBuilder.qty" name="chart-thresh" id="chart-thresh" ng-model="chartBuilder.threshold" ng-change="updateChart()" />
				</p>

				<p> 
					<label for="chart-merge">Merge</label> 
					<span>
						<input type="checkbox" ng-disabled="schema[chartBuilder.x].type != 'numeric'" ng-model="chartBuilder.useMerge" ng-change="updateChart()" /> Use merge
					</span> <br/>
					<input type="number" ng-disabled="!chartBuilder.useMerge || schema[chartBuilder.x].type != 'numeric'" name="chart-merge" id="chart-merge" ng-model="chartBuilder.merge" ng-change="updateChart()" min="0" />
				</p>


				<button style="margin-bottom: 30px;" class="btn btn-primary" ng-click="addChart()">Add chart</button>
			</form>
		</div>
		<div class="col-sm-8">
		
			<highchart id="chart1" config="chartBuilder.chart"></highchart>
			 
		</div>
	</div>
</div>

<div class="clearfix"></div>