if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/aui-diagram-builder-base/aui-diagram-builder-base.js']) {
   __coverage__['build/aui-diagram-builder-base/aui-diagram-builder-base.js'] = {"path":"build/aui-diagram-builder-base/aui-diagram-builder-base.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":36},"end":{"line":1,"column":55}}},"2":{"name":"(anonymous_2)","line":17,"loc":{"start":{"line":17,"column":18},"end":{"line":17,"column":32}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":13},"end":{"line":21,"column":27}}},"4":{"name":"(anonymous_4)","line":25,"loc":{"start":{"line":25,"column":23},"end":{"line":25,"column":37}}},"5":{"name":"(anonymous_5)","line":132,"loc":{"start":{"line":132,"column":21},"end":{"line":132,"column":35}}},"6":{"name":"(anonymous_6)","line":183,"loc":{"start":{"line":183,"column":17},"end":{"line":183,"column":30}}},"7":{"name":"(anonymous_7)","line":194,"loc":{"start":{"line":194,"column":27},"end":{"line":194,"column":40}}},"8":{"name":"(anonymous_8)","line":205,"loc":{"start":{"line":205,"column":29},"end":{"line":205,"column":44}}},"9":{"name":"(anonymous_9)","line":226,"loc":{"start":{"line":226,"column":21},"end":{"line":226,"column":32}}},"10":{"name":"(anonymous_10)","line":258,"loc":{"start":{"line":258,"column":31},"end":{"line":258,"column":47}}},"11":{"name":"(anonymous_11)","line":273,"loc":{"start":{"line":273,"column":24},"end":{"line":273,"column":40}}},"12":{"name":"(anonymous_12)","line":288,"loc":{"start":{"line":288,"column":27},"end":{"line":288,"column":43}}},"13":{"name":"(anonymous_13)","line":303,"loc":{"start":{"line":303,"column":16},"end":{"line":303,"column":30}}},"14":{"name":"(anonymous_14)","line":314,"loc":{"start":{"line":314,"column":25},"end":{"line":314,"column":39}}},"15":{"name":"(anonymous_15)","line":327,"loc":{"start":{"line":327,"column":18},"end":{"line":327,"column":32}}},"16":{"name":"(anonymous_16)","line":340,"loc":{"start":{"line":340,"column":21},"end":{"line":340,"column":35}}},"17":{"name":"(anonymous_17)","line":357,"loc":{"start":{"line":357,"column":19},"end":{"line":357,"column":30}}},"18":{"name":"(anonymous_18)","line":379,"loc":{"start":{"line":379,"column":19},"end":{"line":379,"column":33}}},"19":{"name":"(anonymous_19)","line":406,"loc":{"start":{"line":406,"column":16},"end":{"line":406,"column":30}}},"20":{"name":"(anonymous_20)","line":424,"loc":{"start":{"line":424,"column":19},"end":{"line":424,"column":36}}},"21":{"name":"(anonymous_21)","line":437,"loc":{"start":{"line":437,"column":14},"end":{"line":437,"column":37}}},"22":{"name":"(anonymous_22)","line":462,"loc":{"start":{"line":462,"column":18},"end":{"line":462,"column":32}}},"23":{"name":"(anonymous_23)","line":466,"loc":{"start":{"line":466,"column":25},"end":{"line":466,"column":48}}},"24":{"name":"(anonymous_24)","line":481,"loc":{"start":{"line":481,"column":17},"end":{"line":481,"column":33}}},"25":{"name":"(anonymous_25)","line":498,"loc":{"start":{"line":498,"column":17},"end":{"line":498,"column":31}}},"26":{"name":"(anonymous_26)","line":566,"loc":{"start":{"line":566,"column":21},"end":{"line":566,"column":32}}},"27":{"name":"(anonymous_27)","line":591,"loc":{"start":{"line":591,"column":21},"end":{"line":591,"column":32}}},"28":{"name":"(anonymous_28)","line":603,"loc":{"start":{"line":603,"column":21},"end":{"line":603,"column":32}}},"29":{"name":"(anonymous_29)","line":615,"loc":{"start":{"line":615,"column":21},"end":{"line":615,"column":32}}},"30":{"name":"(anonymous_30)","line":686,"loc":{"start":{"line":686,"column":21},"end":{"line":686,"column":32}}},"31":{"name":"(anonymous_31)","line":745,"loc":{"start":{"line":745,"column":21},"end":{"line":745,"column":32}}},"32":{"name":"(anonymous_32)","line":775,"loc":{"start":{"line":775,"column":31},"end":{"line":775,"column":46}}},"33":{"name":"(anonymous_33)","line":787,"loc":{"start":{"line":787,"column":20},"end":{"line":787,"column":31}}},"34":{"name":"(anonymous_34)","line":791,"loc":{"start":{"line":791,"column":24},"end":{"line":791,"column":40}}},"35":{"name":"(anonymous_35)","line":802,"loc":{"start":{"line":802,"column":18},"end":{"line":802,"column":29}}},"36":{"name":"(anonymous_36)","line":819,"loc":{"start":{"line":819,"column":16},"end":{"line":819,"column":27}}},"37":{"name":"(anonymous_37)","line":836,"loc":{"start":{"line":836,"column":27},"end":{"line":836,"column":43}}},"38":{"name":"(anonymous_38)","line":849,"loc":{"start":{"line":849,"column":22},"end":{"line":849,"column":38}}},"39":{"name":"(anonymous_39)","line":862,"loc":{"start":{"line":862,"column":31},"end":{"line":862,"column":47}}},"40":{"name":"(anonymous_40)","line":883,"loc":{"start":{"line":883,"column":27},"end":{"line":883,"column":41}}},"41":{"name":"(anonymous_41)","line":897,"loc":{"start":{"line":897,"column":22},"end":{"line":897,"column":38}}},"42":{"name":"(anonymous_42)","line":909,"loc":{"start":{"line":909,"column":28},"end":{"line":909,"column":39}}},"43":{"name":"(anonymous_43)","line":921,"loc":{"start":{"line":921,"column":26},"end":{"line":921,"column":37}}},"44":{"name":"(anonymous_44)","line":933,"loc":{"start":{"line":933,"column":23},"end":{"line":933,"column":34}}},"45":{"name":"(anonymous_45)","line":963,"loc":{"start":{"line":963,"column":29},"end":{"line":963,"column":40}}},"46":{"name":"(anonymous_46)","line":981,"loc":{"start":{"line":981,"column":25},"end":{"line":981,"column":36}}},"47":{"name":"(anonymous_47)","line":995,"loc":{"start":{"line":995,"column":21},"end":{"line":995,"column":32}}},"48":{"name":"(anonymous_48)","line":1014,"loc":{"start":{"line":1014,"column":24},"end":{"line":1014,"column":35}}},"49":{"name":"(anonymous_49)","line":1030,"loc":{"start":{"line":1030,"column":20},"end":{"line":1030,"column":31}}},"50":{"name":"(anonymous_50)","line":1045,"loc":{"start":{"line":1045,"column":35},"end":{"line":1045,"column":46}}},"51":{"name":"(anonymous_51)","line":1060,"loc":{"start":{"line":1060,"column":29},"end":{"line":1060,"column":43}}},"52":{"name":"(anonymous_52)","line":1064,"loc":{"start":{"line":1064,"column":29},"end":{"line":1064,"column":52}}},"53":{"name":"(anonymous_53)","line":1080,"loc":{"start":{"line":1080,"column":24},"end":{"line":1080,"column":38}}},"54":{"name":"(anonymous_54)","line":1099,"loc":{"start":{"line":1099,"column":39},"end":{"line":1099,"column":53}}},"55":{"name":"(anonymous_55)","line":1129,"loc":{"start":{"line":1129,"column":26},"end":{"line":1129,"column":40}}},"56":{"name":"(anonymous_56)","line":1151,"loc":{"start":{"line":1151,"column":21},"end":{"line":1151,"column":35}}},"57":{"name":"(anonymous_57)","line":1191,"loc":{"start":{"line":1191,"column":21},"end":{"line":1191,"column":35}}},"58":{"name":"(anonymous_58)","line":1217,"loc":{"start":{"line":1217,"column":31},"end":{"line":1217,"column":45}}},"59":{"name":"(anonymous_59)","line":1224,"loc":{"start":{"line":1224,"column":33},"end":{"line":1224,"column":49}}},"60":{"name":"(anonymous_60)","line":1241,"loc":{"start":{"line":1241,"column":22},"end":{"line":1241,"column":38}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1254,"column":113}},"2":{"start":{"line":10,"column":0},"end":{"line":48,"column":58}},"3":{"start":{"line":18,"column":8},"end":{"line":18,"column":46}},"4":{"start":{"line":22,"column":8},"end":{"line":22,"column":41}},"5":{"start":{"line":26,"column":8},"end":{"line":26,"column":51}},"6":{"start":{"line":59,"column":0},"end":{"line":347,"column":3}},"7":{"start":{"line":133,"column":16},"end":{"line":133,"column":36}},"8":{"start":{"line":135,"column":16},"end":{"line":145,"column":17}},"9":{"start":{"line":136,"column":20},"end":{"line":142,"column":22}},"10":{"start":{"line":144,"column":20},"end":{"line":144,"column":60}},"11":{"start":{"line":147,"column":16},"end":{"line":147,"column":27}},"12":{"start":{"line":184,"column":8},"end":{"line":184,"column":60}},"13":{"start":{"line":195,"column":8},"end":{"line":195,"column":96}},"14":{"start":{"line":206,"column":8},"end":{"line":206,"column":27}},"15":{"start":{"line":208,"column":8},"end":{"line":210,"column":9}},"16":{"start":{"line":209,"column":12},"end":{"line":209,"column":50}},"17":{"start":{"line":212,"column":8},"end":{"line":212,"column":20}},"18":{"start":{"line":227,"column":12},"end":{"line":227,"column":32}},"19":{"start":{"line":228,"column":12},"end":{"line":228,"column":44}},"20":{"start":{"line":230,"column":12},"end":{"line":234,"column":15}},"21":{"start":{"line":236,"column":12},"end":{"line":236,"column":81}},"22":{"start":{"line":238,"column":12},"end":{"line":240,"column":14}},"23":{"start":{"line":242,"column":12},"end":{"line":244,"column":14}},"24":{"start":{"line":246,"column":12},"end":{"line":248,"column":14}},"25":{"start":{"line":259,"column":12},"end":{"line":259,"column":32}},"26":{"start":{"line":261,"column":12},"end":{"line":263,"column":14}},"27":{"start":{"line":274,"column":12},"end":{"line":274,"column":32}},"28":{"start":{"line":276,"column":12},"end":{"line":278,"column":14}},"29":{"start":{"line":289,"column":12},"end":{"line":289,"column":32}},"30":{"start":{"line":291,"column":12},"end":{"line":293,"column":14}},"31":{"start":{"line":304,"column":12},"end":{"line":304,"column":53}},"32":{"start":{"line":315,"column":12},"end":{"line":315,"column":32}},"33":{"start":{"line":317,"column":12},"end":{"line":317,"column":87}},"34":{"start":{"line":328,"column":12},"end":{"line":328,"column":32}},"35":{"start":{"line":330,"column":12},"end":{"line":330,"column":48}},"36":{"start":{"line":341,"column":12},"end":{"line":341,"column":32}},"37":{"start":{"line":343,"column":12},"end":{"line":343,"column":52}},"38":{"start":{"line":344,"column":12},"end":{"line":344,"column":47}},"39":{"start":{"line":349,"column":0},"end":{"line":349,"column":34}},"40":{"start":{"line":357,"column":0},"end":{"line":357,"column":33}},"41":{"start":{"line":367,"column":0},"end":{"line":395,"column":2}},"42":{"start":{"line":380,"column":12},"end":{"line":380,"column":52}},"43":{"start":{"line":397,"column":0},"end":{"line":501,"column":3}},"44":{"start":{"line":407,"column":8},"end":{"line":407,"column":28}},"45":{"start":{"line":409,"column":8},"end":{"line":414,"column":9}},"46":{"start":{"line":410,"column":12},"end":{"line":410,"column":23}},"47":{"start":{"line":413,"column":12},"end":{"line":413,"column":46}},"48":{"start":{"line":425,"column":8},"end":{"line":425,"column":28}},"49":{"start":{"line":427,"column":8},"end":{"line":427,"column":39}},"50":{"start":{"line":438,"column":8},"end":{"line":438,"column":28}},"51":{"start":{"line":440,"column":8},"end":{"line":450,"column":9}},"52":{"start":{"line":441,"column":12},"end":{"line":441,"column":55}},"53":{"start":{"line":443,"column":12},"end":{"line":447,"column":13}},"54":{"start":{"line":444,"column":16},"end":{"line":446,"column":18}},"55":{"start":{"line":449,"column":12},"end":{"line":449,"column":28}},"56":{"start":{"line":452,"column":8},"end":{"line":452,"column":20}},"57":{"start":{"line":463,"column":8},"end":{"line":463,"column":28}},"58":{"start":{"line":464,"column":8},"end":{"line":464,"column":24}},"59":{"start":{"line":466,"column":8},"end":{"line":470,"column":11}},"60":{"start":{"line":467,"column":12},"end":{"line":469,"column":13}},"61":{"start":{"line":468,"column":16},"end":{"line":468,"column":57}},"62":{"start":{"line":472,"column":8},"end":{"line":472,"column":39}},"63":{"start":{"line":482,"column":8},"end":{"line":482,"column":28}},"64":{"start":{"line":484,"column":8},"end":{"line":486,"column":10}},"65":{"start":{"line":499,"column":8},"end":{"line":499,"column":19}},"66":{"start":{"line":503,"column":0},"end":{"line":503,"column":30}},"67":{"start":{"line":516,"column":0},"end":{"line":1249,"column":3}},"68":{"start":{"line":567,"column":16},"end":{"line":567,"column":59}},"69":{"start":{"line":592,"column":16},"end":{"line":592,"column":70}},"70":{"start":{"line":604,"column":16},"end":{"line":604,"column":67}},"71":{"start":{"line":616,"column":16},"end":{"line":616,"column":69}},"72":{"start":{"line":687,"column":16},"end":{"line":687,"column":70}},"73":{"start":{"line":746,"column":12},"end":{"line":746,"column":32}},"74":{"start":{"line":748,"column":12},"end":{"line":752,"column":15}},"75":{"start":{"line":754,"column":12},"end":{"line":757,"column":15}},"76":{"start":{"line":759,"column":12},"end":{"line":759,"column":81}},"77":{"start":{"line":761,"column":12},"end":{"line":761,"column":53}},"78":{"start":{"line":762,"column":12},"end":{"line":762,"column":73}},"79":{"start":{"line":763,"column":12},"end":{"line":763,"column":67}},"80":{"start":{"line":764,"column":12},"end":{"line":764,"column":71}},"81":{"start":{"line":765,"column":12},"end":{"line":765,"column":73}},"82":{"start":{"line":776,"column":12},"end":{"line":776,"column":32}},"83":{"start":{"line":777,"column":12},"end":{"line":777,"column":67}},"84":{"start":{"line":779,"column":12},"end":{"line":779,"column":53}},"85":{"start":{"line":788,"column":12},"end":{"line":788,"column":32}},"86":{"start":{"line":789,"column":12},"end":{"line":789,"column":48}},"87":{"start":{"line":791,"column":12},"end":{"line":793,"column":15}},"88":{"start":{"line":792,"column":16},"end":{"line":792,"column":42}},"89":{"start":{"line":803,"column":12},"end":{"line":803,"column":32}},"90":{"start":{"line":805,"column":12},"end":{"line":805,"column":35}},"91":{"start":{"line":806,"column":12},"end":{"line":806,"column":37}},"92":{"start":{"line":808,"column":12},"end":{"line":810,"column":14}},"93":{"start":{"line":820,"column":12},"end":{"line":820,"column":32}},"94":{"start":{"line":821,"column":12},"end":{"line":821,"column":56}},"95":{"start":{"line":823,"column":12},"end":{"line":823,"column":34}},"96":{"start":{"line":824,"column":12},"end":{"line":824,"column":49}},"97":{"start":{"line":826,"column":12},"end":{"line":826,"column":44}},"98":{"start":{"line":837,"column":12},"end":{"line":837,"column":32}},"99":{"start":{"line":839,"column":12},"end":{"line":839,"column":40}},"100":{"start":{"line":850,"column":12},"end":{"line":850,"column":32}},"101":{"start":{"line":852,"column":12},"end":{"line":852,"column":34}},"102":{"start":{"line":863,"column":12},"end":{"line":865,"column":24}},"103":{"start":{"line":867,"column":12},"end":{"line":873,"column":13}},"104":{"start":{"line":868,"column":16},"end":{"line":868,"column":51}},"105":{"start":{"line":870,"column":16},"end":{"line":872,"column":17}},"106":{"start":{"line":871,"column":20},"end":{"line":871,"column":47}},"107":{"start":{"line":884,"column":12},"end":{"line":884,"column":32}},"108":{"start":{"line":886,"column":12},"end":{"line":886,"column":104}},"109":{"start":{"line":887,"column":12},"end":{"line":887,"column":101}},"110":{"start":{"line":898,"column":12},"end":{"line":898,"column":32}},"111":{"start":{"line":900,"column":12},"end":{"line":900,"column":44}},"112":{"start":{"line":910,"column":12},"end":{"line":910,"column":32}},"113":{"start":{"line":912,"column":12},"end":{"line":912,"column":36}},"114":{"start":{"line":922,"column":12},"end":{"line":922,"column":32}},"115":{"start":{"line":924,"column":12},"end":{"line":924,"column":34}},"116":{"start":{"line":934,"column":12},"end":{"line":934,"column":32}},"117":{"start":{"line":935,"column":12},"end":{"line":935,"column":56}},"118":{"start":{"line":936,"column":12},"end":{"line":936,"column":41}},"119":{"start":{"line":937,"column":12},"end":{"line":937,"column":61}},"120":{"start":{"line":938,"column":12},"end":{"line":938,"column":55}},"121":{"start":{"line":940,"column":12},"end":{"line":942,"column":13}},"122":{"start":{"line":941,"column":16},"end":{"line":941,"column":53}},"123":{"start":{"line":944,"column":12},"end":{"line":946,"column":13}},"124":{"start":{"line":945,"column":16},"end":{"line":945,"column":50}},"125":{"start":{"line":948,"column":12},"end":{"line":953,"column":13}},"126":{"start":{"line":949,"column":16},"end":{"line":949,"column":76}},"127":{"start":{"line":952,"column":16},"end":{"line":952,"column":57}},"128":{"start":{"line":964,"column":12},"end":{"line":964,"column":32}},"129":{"start":{"line":966,"column":12},"end":{"line":972,"column":13}},"130":{"start":{"line":967,"column":16},"end":{"line":967,"column":108}},"131":{"start":{"line":969,"column":16},"end":{"line":969,"column":59}},"132":{"start":{"line":971,"column":16},"end":{"line":971,"column":91}},"133":{"start":{"line":982,"column":12},"end":{"line":982,"column":32}},"134":{"start":{"line":984,"column":12},"end":{"line":984,"column":43}},"135":{"start":{"line":986,"column":12},"end":{"line":986,"column":38}},"136":{"start":{"line":996,"column":12},"end":{"line":996,"column":32}},"137":{"start":{"line":998,"column":12},"end":{"line":1004,"column":13}},"138":{"start":{"line":999,"column":16},"end":{"line":999,"column":69}},"139":{"start":{"line":1001,"column":16},"end":{"line":1001,"column":43}},"140":{"start":{"line":1002,"column":16},"end":{"line":1002,"column":71}},"141":{"start":{"line":1003,"column":16},"end":{"line":1003,"column":73}},"142":{"start":{"line":1015,"column":12},"end":{"line":1015,"column":32}},"143":{"start":{"line":1017,"column":12},"end":{"line":1021,"column":13}},"144":{"start":{"line":1018,"column":16},"end":{"line":1020,"column":48}},"145":{"start":{"line":1031,"column":12},"end":{"line":1031,"column":32}},"146":{"start":{"line":1033,"column":12},"end":{"line":1035,"column":14}},"147":{"start":{"line":1046,"column":12},"end":{"line":1046,"column":32}},"148":{"start":{"line":1048,"column":12},"end":{"line":1050,"column":14}},"149":{"start":{"line":1061,"column":12},"end":{"line":1061,"column":32}},"150":{"start":{"line":1062,"column":12},"end":{"line":1062,"column":28}},"151":{"start":{"line":1064,"column":12},"end":{"line":1068,"column":15}},"152":{"start":{"line":1065,"column":16},"end":{"line":1067,"column":18}},"153":{"start":{"line":1070,"column":12},"end":{"line":1070,"column":26}},"154":{"start":{"line":1081,"column":12},"end":{"line":1081,"column":32}},"155":{"start":{"line":1083,"column":12},"end":{"line":1089,"column":14}},"156":{"start":{"line":1100,"column":12},"end":{"line":1100,"column":32}},"157":{"start":{"line":1102,"column":12},"end":{"line":1119,"column":14}},"158":{"start":{"line":1130,"column":12},"end":{"line":1130,"column":32}},"159":{"start":{"line":1132,"column":12},"end":{"line":1141,"column":14}},"160":{"start":{"line":1152,"column":12},"end":{"line":1154,"column":81}},"161":{"start":{"line":1156,"column":12},"end":{"line":1165,"column":14}},"162":{"start":{"line":1167,"column":12},"end":{"line":1179,"column":13}},"163":{"start":{"line":1168,"column":16},"end":{"line":1168,"column":52}},"164":{"start":{"line":1170,"column":16},"end":{"line":1178,"column":18}},"165":{"start":{"line":1181,"column":12},"end":{"line":1181,"column":46}},"166":{"start":{"line":1192,"column":12},"end":{"line":1192,"column":32}},"167":{"start":{"line":1193,"column":12},"end":{"line":1193,"column":48}},"168":{"start":{"line":1195,"column":12},"end":{"line":1207,"column":14}},"169":{"start":{"line":1218,"column":12},"end":{"line":1218,"column":32}},"170":{"start":{"line":1219,"column":12},"end":{"line":1219,"column":49}},"171":{"start":{"line":1221,"column":12},"end":{"line":1231,"column":13}},"172":{"start":{"line":1222,"column":16},"end":{"line":1222,"column":74}},"173":{"start":{"line":1224,"column":16},"end":{"line":1226,"column":19}},"174":{"start":{"line":1225,"column":20},"end":{"line":1225,"column":59}},"175":{"start":{"line":1228,"column":16},"end":{"line":1230,"column":18}},"176":{"start":{"line":1242,"column":12},"end":{"line":1242,"column":32}},"177":{"start":{"line":1244,"column":12},"end":{"line":1246,"column":13}},"178":{"start":{"line":1245,"column":16},"end":{"line":1245,"column":38}},"179":{"start":{"line":1251,"column":0},"end":{"line":1251,"column":42}}},"branchMap":{"1":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":16},"end":{"line":135,"column":16}},{"start":{"line":135,"column":16},"end":{"line":135,"column":16}}]},"2":{"line":208,"type":"if","locations":[{"start":{"line":208,"column":8},"end":{"line":208,"column":8}},{"start":{"line":208,"column":8},"end":{"line":208,"column":8}}]},"3":{"line":380,"type":"binary-expr","locations":[{"start":{"line":380,"column":19},"end":{"line":380,"column":31}},{"start":{"line":380,"column":35},"end":{"line":380,"column":51}}]},"4":{"line":409,"type":"if","locations":[{"start":{"line":409,"column":8},"end":{"line":409,"column":8}},{"start":{"line":409,"column":8},"end":{"line":409,"column":8}}]},"5":{"line":440,"type":"if","locations":[{"start":{"line":440,"column":8},"end":{"line":440,"column":8}},{"start":{"line":440,"column":8},"end":{"line":440,"column":8}}]},"6":{"line":443,"type":"if","locations":[{"start":{"line":443,"column":12},"end":{"line":443,"column":12}},{"start":{"line":443,"column":12},"end":{"line":443,"column":12}}]},"7":{"line":467,"type":"if","locations":[{"start":{"line":467,"column":12},"end":{"line":467,"column":12}},{"start":{"line":467,"column":12},"end":{"line":467,"column":12}}]},"8":{"line":867,"type":"if","locations":[{"start":{"line":867,"column":12},"end":{"line":867,"column":12}},{"start":{"line":867,"column":12},"end":{"line":867,"column":12}}]},"9":{"line":870,"type":"if","locations":[{"start":{"line":870,"column":16},"end":{"line":870,"column":16}},{"start":{"line":870,"column":16},"end":{"line":870,"column":16}}]},"10":{"line":870,"type":"binary-expr","locations":[{"start":{"line":870,"column":20},"end":{"line":870,"column":44}},{"start":{"line":870,"column":49},"end":{"line":870,"column":82}}]},"11":{"line":886,"type":"cond-expr","locations":[{"start":{"line":886,"column":73},"end":{"line":886,"column":96}},{"start":{"line":886,"column":99},"end":{"line":886,"column":102}}]},"12":{"line":887,"type":"cond-expr","locations":[{"start":{"line":887,"column":70},"end":{"line":887,"column":93}},{"start":{"line":887,"column":96},"end":{"line":887,"column":99}}]},"13":{"line":940,"type":"if","locations":[{"start":{"line":940,"column":12},"end":{"line":940,"column":12}},{"start":{"line":940,"column":12},"end":{"line":940,"column":12}}]},"14":{"line":944,"type":"if","locations":[{"start":{"line":944,"column":12},"end":{"line":944,"column":12}},{"start":{"line":944,"column":12},"end":{"line":944,"column":12}}]},"15":{"line":948,"type":"if","locations":[{"start":{"line":948,"column":12},"end":{"line":948,"column":12}},{"start":{"line":948,"column":12},"end":{"line":948,"column":12}}]},"16":{"line":966,"type":"if","locations":[{"start":{"line":966,"column":12},"end":{"line":966,"column":12}},{"start":{"line":966,"column":12},"end":{"line":966,"column":12}}]},"17":{"line":998,"type":"if","locations":[{"start":{"line":998,"column":12},"end":{"line":998,"column":12}},{"start":{"line":998,"column":12},"end":{"line":998,"column":12}}]},"18":{"line":1017,"type":"if","locations":[{"start":{"line":1017,"column":12},"end":{"line":1017,"column":12}},{"start":{"line":1017,"column":12},"end":{"line":1017,"column":12}}]},"19":{"line":1066,"type":"cond-expr","locations":[{"start":{"line":1066,"column":46},"end":{"line":1066,"column":51}},{"start":{"line":1066,"column":54},"end":{"line":1066,"column":81}}]},"20":{"line":1088,"type":"binary-expr","locations":[{"start":{"line":1088,"column":16},"end":{"line":1088,"column":19}},{"start":{"line":1088,"column":23},"end":{"line":1088,"column":25}}]},"21":{"line":1118,"type":"binary-expr","locations":[{"start":{"line":1118,"column":16},"end":{"line":1118,"column":19}},{"start":{"line":1118,"column":23},"end":{"line":1118,"column":25}}]},"22":{"line":1167,"type":"if","locations":[{"start":{"line":1167,"column":12},"end":{"line":1167,"column":12}},{"start":{"line":1167,"column":12},"end":{"line":1167,"column":12}}]},"23":{"line":1221,"type":"if","locations":[{"start":{"line":1221,"column":12},"end":{"line":1221,"column":12}},{"start":{"line":1221,"column":12},"end":{"line":1221,"column":12}}]},"24":{"line":1244,"type":"if","locations":[{"start":{"line":1244,"column":12},"end":{"line":1244,"column":12}},{"start":{"line":1244,"column":12},"end":{"line":1244,"column":12}}]}},"code":["(function () { YUI.add('aui-diagram-builder-base', function (A, NAME) {","","/**"," * The Diagram Builder Base"," *"," * @module aui-diagram-builder"," * @submodule aui-diagram-builder-base"," */","","var Lang = A.Lang,","    isArray = Lang.isArray,","    isBoolean = Lang.isBoolean,","    isNumber = Lang.isNumber,","    isObject = Lang.isObject,","    isString = Lang.isString,","","    isArrayList = function(val) {","        return A.instanceOf(val, A.ArrayList);","    },","","    isNode = function(val) {","        return A.instanceOf(val, A.Node);","    },","","    isAvailableField = function(val) {","        return A.instanceOf(val, A.AvailableField);","    },","","    AArray = A.Array,","","    AgetClassName = A.getClassName,","","    CSS_CLEARFIX = AgetClassName('clearfix'),","    CSS_DIAGRAM_BUILDER_CANVAS = AgetClassName('diagram', 'builder', 'canvas'),","    CSS_DIAGRAM_BUILDER_CONTENT_CONTAINER = AgetClassName('diagram', 'builder', 'content', 'container'),","    CSS_DIAGRAM_BUILDER_DROP_CONTAINER = AgetClassName('diagram', 'builder', 'drop', 'container'),","    CSS_DIAGRAM_BUILDER_FIELD = AgetClassName('diagram', 'builder', 'field'),","    CSS_DIAGRAM_BUILDER_FIELD_DRAGGABLE = AgetClassName('diagram', 'builder', 'field', 'draggable'),","    CSS_DIAGRAM_BUILDER_FIELD_ICON = AgetClassName('diagram', 'builder', 'field', 'icon'),","    CSS_DIAGRAM_BUILDER_FIELD_LABEL = AgetClassName('diagram', 'builder', 'field', 'label'),","    CSS_DIAGRAM_BUILDER_FIELDS_CONTAINER = AgetClassName('diagram', 'builder', 'fields', 'container'),","    CSS_DIAGRAM_BUILDER_TABS = AgetClassName('diagram', 'builder', 'tabs'),","    CSS_DIAGRAM_BUILDER_TOOLBAR_CONTAINER = AgetClassName('diagram', 'builder', 'toolbar', 'container'),","    CSS_ICON = AgetClassName('icon'),","    CSS_LAYOUT = AgetClassName('layout'),","    CSS_TABBABLE = AgetClassName('tabbable'),","    CSS_TABBABLE_CONTENT = AgetClassName('tabbable', 'content'),","    CSS_TABLE_STRIPED = AgetClassName('table', 'striped');","","/**"," * A base class for AvailableField."," *"," * @class A.AvailableField"," * @extends Base"," * @param {Object} config Object literal specifying widget configuration"," *     properties."," * @constructor"," */","var AvailableField = A.Component.create({","","    /**","     * Static property provides a string to identify the class.","     *","     * @property NAME","     * @type String","     * @static","     */","    NAME: 'availableField',","","    /**","     * Static property used to define the default attribute","     * configuration for the `A.AvailableField`.","     *","     * @property ATTRS","     * @type Object","     * @static","     */","    ATTRS: {","","        /**","         * Defines if the field is draggable or not.","         *","         * @attribute draggable","         * @default true","         * @type Boolean","         */","        draggable: {","            value: true,","            validator: isBoolean","        },","","        /**","         * The descriptor of a field.","         *","         * @attribute label","         * @type String","         */","        label: {","            validator: isString","        },","","        /**","         * The CSS class name used in the icon.","         *","         * @attribute iconClass","         * @type String","         */","        iconClass: {","            validator: isString","        },","","        /**","         * The identifier of a field.","         *","         * @attribute id","         * @type String","         */","        id: {","            value: A.guid(),","            setter: '_setId',","            validator: isString","        },","","        /**","         * The node used in a field.","         *","         * @attribute node","         * @type Node","         * @writeOnce","         */","        node: {","            valueFn: function(val) {","                var instance = this;","","                if (!isNode(val)) {","                    val = A.Node.create(","                        A.Lang.sub(","                            instance.FIELD_ITEM_TEMPLATE, {","                                iconClass: instance.get('iconClass')","                            }","                        )","                    );","","                    val.setData('availableField', instance);","                }","","                return val;","            },","            validator: isNode,","            writeOnce: true","        },","","        /**","         * The type of a field.","         *","         * @attribute type","         * @default 'node'","         * @type String","         */","        type: {","            value: 'node',","            validator: isString","        }","    },","","    /**","     * Static property used to define which component it extends.","     *","     * @property EXTENDS","     * @type String","     * @static","     */","    EXTENDS: A.Base,","","    /**","     * Constructs the node id string.","     *","     * @method buildNodeId","     * @param id","     * @private","     * @return {String}","     */","    buildNodeId: function(id) {","        return 'availableFields' + '_' + 'field' + '_' + id;","    },","","    /**","     * Gets the `availableField` instance by its id.","     *","     * @method getAvailableFieldById","     * @param id","     * @private","     */","    getAvailableFieldById: function(id) {","        return A.AvailableField.getAvailableFieldByNode('#' + A.AvailableField.buildNodeId(id));","    },","","    /**","     * Gets the `availableField` instance by its node.","     *","     * @method getAvailableFieldById","     * @param node","     * @private","     */","    getAvailableFieldByNode: function(node) {","        node = A.one(node);","","        if (isNode(node)) {","            return node.getData('availableField');","        }","","        return null;","    },","","    prototype: {","        FIELD_ITEM_TEMPLATE: '<li class=\"' + CSS_DIAGRAM_BUILDER_FIELD + '\">' + '<span class=\"' + [CSS_ICON,","            CSS_DIAGRAM_BUILDER_FIELD_ICON].join(' ') + ' {iconClass}\"></span>' + '<div class=\"' + CSS_DIAGRAM_BUILDER_FIELD_LABEL + '\"></div>' + '</li>',","","        /**","         * Construction logic executed during `A.AvailableField` instantiation.","         * Lifecycle.","         *","         * @method initializer","         * @protected","         */","        initializer: function() {","            var instance = this;","            var node = instance.get('node');","","            instance.after({","                draggableChange: instance._afterDraggableChange,","                idChange: instance._afterIdChange,","                labelChange: instance._afterLabelChange","            });","","            instance.labelNode = node.one('.' + CSS_DIAGRAM_BUILDER_FIELD_LABEL);","","            instance._uiSetDraggable(","                instance.get('draggable')","            );","","            instance._uiSetId(","                instance.get('id')","            );","","            instance._uiSetLabel(","                instance.get('label')","            );","        },","","        /**","         * Fires after `draggable` attribute value change.","         *","         * @method _afterDraggableChange","         * @param event","         * @protected","         */","        _afterDraggableChange: function(event) {","            var instance = this;","","            instance._uiSetDraggable(","                event.newVal","            );","        },","","        /**","         * Fires after `id` attribute value change.","         *","         * @method _afterIdChange","         * @param event","         * @protected","         */","        _afterIdChange: function(event) {","            var instance = this;","","            instance._uiSetId(","                event.newVal","            );","        },","","        /**","         * Fires after `label` attribute value change.","         *","         * @method _afterLabelChange","         * @param event","         * @protected","         */","        _afterLabelChange: function(event) {","            var instance = this;","","            instance._uiSetLabel(","                event.newVal","            );","        },","","        /**","         * Sets the `id` attribute.","         *","         * @method _setId","         * @param val","         * @protected","         */","        _setId: function(val) {","            return A.AvailableField.buildNodeId(val);","        },","","        /**","         * Sets the `draggable` attribute in the UI.","         *","         * @method _uiSetDraggable","         * @param val","         * @protected","         */","        _uiSetDraggable: function(val) {","            var instance = this;","","            instance.get('node').toggleClass(CSS_DIAGRAM_BUILDER_FIELD_DRAGGABLE, val);","        },","","        /**","         * Sets the `id` attribute in the UI.","         *","         * @method _uiSetId","         * @param val","         * @protected","         */","        _uiSetId: function(val) {","            var instance = this;","","            instance.get('node').set('id', val);","        },","","        /**","         * Sets the `label` attribute in the UI.","         *","         * @method _uiSetLabel","         * @param val","         * @protected","         */","        _uiSetLabel: function(val) {","            var instance = this;","","            instance.get('node').attr('title', val);","            instance.labelNode.setContent(val);","        }","    }","});","","A.AvailableField = AvailableField;","","/**"," * A base class for `A.FieldSupport`."," *"," * @class A.FieldSupport"," * @constructor"," */","var FieldSupport = function() {};","","/**"," * Static property used to define the default attribute"," * configuration for the `A.FieldSupport`."," *"," * @property ATTRS"," * @type Object"," * @static"," */","FieldSupport.ATTRS = {","","    /**","     * The collection of fields.","     *","     * @attribute fields","     * @default []","     * @type Array","     */","    fields: {","        value: [],","        setter: '_setFields',","        validator: function(val) {","            return isArray(val) || isArrayList(val);","        }","    },","","    /**","     * Defines the maximum number of fields.","     *","     * @attribute maxFields","     * @default Infinity","     * @type Number","     */","    maxFields: {","        value: Infinity,","        validator: isNumber","    }","};","","A.mix(FieldSupport.prototype, {","","    /**","     * Sets the `fields` attribute.","     *","     * @method _setFields","     * @param val","     * @protected","     */","    _setFields: function(val) {","        var instance = this;","","        if (isArrayList(val)) {","            return val;","        }","        else {","            return instance.createFields(val);","        }","    },","","    /**","     * Updates the collection of fields.","     *","     * @method _updateFields","     * @param fields","     * @protected","     */","    _updateFields: function(fields) {","        var instance = this;","","        instance.set('fields', fields);","    },","","    /**","     * Adds a single field in the field list.","     *","     * @method addField","     * @param field","     * @param index","     */","    addField: function(field, index) {","        var instance = this;","","        if (instance.get('fields').size() < instance.get('maxFields')) {","            var newField = instance.createField(field);","","            if (newField) {","                instance._updateFields(","                    instance.get('fields').add(newField, index)","                );","            }","","            return newField;","        }","","        return null;","    },","","    /**","     * Creates a collection of fields.","     *","     * @method createFields","     * @param val","     * @return {A.ArrayList}","     */","    createFields: function(val) {","        var instance = this;","        var fields = [];","","        AArray.each(val, function(field, index) {","            if (index < instance.get('maxFields')) {","                fields.push(instance.createField(field));","            }","        });","","        return new A.ArrayList(fields);","    },","","    /**","     * Removes a single field from the field list.","     *","     * @method removeField","     * @param field","     */","    removeField: function(field) {","        var instance = this;","","        instance._updateFields(","            instance.get('fields').remove(field)","        );","    },","","    /**","     * Creates a single field.","     *","     * NOTE FOR DEVELOPERS: Yoy *may* want to replace the","     * methods from this section on your implementation.","     *","     * @method createField","     * @param val","     */","    createField: function(val) {","        return val;","    }","});","","A.FieldSupport = FieldSupport;","// A.FieldSupport = A.Base.create('field-support', A.Base, [FieldSupport]);","","/**"," * A base class for DiagramBuilderBase."," *"," * @class A.DiagramBuilderBase"," * @extends A.Component"," * @uses A.FieldSupport"," * @param {Object} config Object literal specifying widget configuration"," *     properties."," * @constructor"," */","var DiagramBuilderBase = A.Component.create({","    /**","     * Static property provides a string to identify the class.","     *","     * @property NAME","     * @type String","     * @static","     */","    NAME: 'diagram-builder',","","    /**","     * Static property used to define the default attribute","     * configuration for the `A.DiagramBuilderBase`.","     *","     * @property ATTRS","     * @type Object","     * @static","     */","    ATTRS: {","","        /**","         * List of available fields.","         *","         * @attribute availableFields","         * @type Array","         */","        availableFields: {","            setter: '_setAvailableFields',","            validator: isArray","        },","","        /**","         * The configuration object for draggable available fields.","         *","         * @attribute availableFieldsDragConfig","         * @default null","         * @type Object","         */","        availableFieldsDragConfig: {","            value: null,","            setter: '_setAvailableFieldsDragConfig',","            validator: isObject","        },","","        /**","         * A node created using the `CANVAS_TEMPLATE` template.","         *","         * @attribute canvas","         */","        canvas: {","            valueFn: function() {","                return A.Node.create(this.CANVAS_TEMPLATE);","            }","        },","","        /**","         * The configuration object for drop container node.","         *","         * @attribute dropConfig","         * @default null","         * @type Object","         */","        dropConfig: {","            value: null,","            setter: '_setDropConfig',","            validator: isObject","        },","","        /**","         * Host node for content created using the `CONTENT_CONTAINER_TEMPLATE`","         * template.","         *","         * @attribute contentContainer","         */","        contentContainer: {","            valueFn: function() {","                return A.Node.create(this.CONTENT_CONTAINER_TEMPLATE);","            }","        },","","        /**","         * Host node for drop created using the `DROP_CONTAINER_TEMPLATE`","         * template.","         *","         * @attribute dropContainer","         */","        dropContainer: {","            valueFn: function() {","                return A.Node.create(this.DROP_CONTAINER_TEMPLATE);","            }","        },","","        /**","         * Host node for fields created using the `FIELDS_CONTAINER_TEMPLATE`","         * template.","         *","         * @attribute fieldsContainer","         */","        fieldsContainer: {","            valueFn: function() {","                return A.Node.create(this.FIELDS_CONTAINER_TEMPLATE);","            }","        },","","        /**","         * Stores an instance of `A.PropertyList`.","         *","         * @attribute propertyList","         * @default null","         * @type Object","         */","        propertyList: {","            setter: '_setPropertyList',","            validator: isObject,","            value: null","        },","","        /**","         * Collection of strings used to label elements of the UI.","         *","         * @attribute strings","         * @type Object","         */","        strings: {","            value: {","                addNode: 'Add node',","                cancel: 'Cancel',","                close: 'Close',","                propertyName: 'Property Name',","                save: 'Save',","                settings: 'Settings',","                value: 'Value'","            }","        },","","        /**","         * Stores an instance of `A.TabView`.","         *","         * @attribute tabView","         * @default null","         * @type Object","         * @writeOnce","         */","        tabView: {","            setter: '_setTabView',","            validator: isObject,","            value: null,","            writeOnce: true","        },","","        /**","         * Stores an instance of `A.Toolbar`.","         *","         * @attribute toolbar","         * @default null","         * @type Object","         */","        toolbar: {","            setter: '_setToolbar',","            validator: isObject,","            value: null","        },","","        /**","         * Host node for toolbar created using the `TOOLBAR_CONTAINER_TEMPLATE`","         * template.","         *","         * @attribute toolbarContainer","         */","        toolbarContainer: {","            valueFn: function() {","                return A.Node.create(this.TOOLBAR_CONTAINER_TEMPLATE);","            }","        }","    },","","    /**","     * Object hash, defining how attribute values have to be parsed from markup.","     *","     * @property HTML_PARSER","     * @type Object","     * @static","     */","    HTML_PARSER: {","        contentContainer: '.' + CSS_DIAGRAM_BUILDER_CONTENT_CONTAINER,","        dropContainer: '.' + CSS_DIAGRAM_BUILDER_DROP_CONTAINER,","        fieldsContainer: '.' + CSS_DIAGRAM_BUILDER_FIELDS_CONTAINER,","        toolbarContainer: '.' + CSS_DIAGRAM_BUILDER_TOOLBAR_CONTAINER,","        canvas: '.' + CSS_DIAGRAM_BUILDER_CANVAS","    },","","    /**","     * Static property used to define the UI attributes.","     *","     * @property UI_ATTRS","     * @type Array","     * @static","     */","    UI_ATTRS: ['availableFields', 'fields'],","","    /**","     * Static property used to define the augmented classes.","     *","     * @property AUGMENTS","     * @type Array","     * @static","     */","    AUGMENTS: [A.FieldSupport],","","    prototype: {","        CANVAS_TEMPLATE: '<div tabindex=\"1\" class=\"' + CSS_DIAGRAM_BUILDER_CANVAS + '\"></div>',","        CONTENT_CONTAINER_TEMPLATE: '<div class=\"' + CSS_DIAGRAM_BUILDER_CONTENT_CONTAINER + '\"></div>',","        DROP_CONTAINER_TEMPLATE: '<div class=\"' + CSS_DIAGRAM_BUILDER_DROP_CONTAINER + '\"></div>',","        FIELDS_CONTAINER_TEMPLATE: '<ul class=\"' + [CSS_DIAGRAM_BUILDER_FIELDS_CONTAINER, CSS_CLEARFIX].join(' ') + '\"></ul>',","        TOOLBAR_CONTAINER_TEMPLATE: '<div class=\"' + CSS_DIAGRAM_BUILDER_TOOLBAR_CONTAINER + '\"></div>',","","        fieldsNode: null,","        propertyList: null,","        settingsNode: null,","        tabView: null,","        toolbar: null,","","        /**","         * Construction logic executed during `A.DiagramBuilderBase`","         * instantiation. Lifecycle.","         *","         * @method initializer","         * @protected","         */","        initializer: function() {","            var instance = this;","","            instance.publish({","                cancel: {","                    defaultFn: instance._defCancelFn","                }","            });","","            instance.after({","                render: instance._afterRender,","                'model:change': instance._afterModelChange","            });","","            instance.after(instance._afterUiSetHeight, instance, '_uiSetHeight');","","            instance.canvas = instance.get('canvas');","            instance.contentContainer = instance.get('contentContainer');","            instance.dropContainer = instance.get('dropContainer');","            instance.fieldsContainer = instance.get('fieldsContainer');","            instance.toolbarContainer = instance.get('toolbarContainer');","        },","","        /**","         * Checks if the `availableFields` are draggable.","         *","         * @method isAvailableFieldsDrag","         * @param drag","         * @return {Boolean}","         */","        isAvailableFieldsDrag: function(drag) {","            var instance = this;","            var availableFieldsDrag = instance.availableFieldsDrag;","","            return (drag === availableFieldsDrag.dd);","        },","","        /**","         * Plots a collection of fields.","         *","         * @method plotFields","         */","        plotFields: function() {","            var instance = this;","            var fields = instance.get('fields');","","            fields.each(function(field) {","                instance.plotField(field);","            });","        },","","        /**","         * Render the `A.DiagramBuilderBase` component instance. Lifecycle.","         *","         * @method renderUI","         * @protected","         */","        renderUI: function() {","            var instance = this;","","            instance._renderTabs();","            instance._renderCanvas();","","            instance._uiSetAvailableFields(","                instance.get('availableFields')","            );","        },","","        /**","         * Sync the `A.DiagramBuilderBase` UI. Lifecycle.","         *","         * @method syncUI","         * @protected","         */","        syncUI: function() {","            var instance = this;","            var contentBox = instance.get('contentBox');","","            instance._setupDrop();","            instance._setupAvailableFieldsDrag();","","            contentBox.addClass(CSS_LAYOUT);","        },","","        /**","         * Fires after one or more attributes on the model are changed.","         *","         * @method _afterModelChange","         * @param event","         * @protected","         */","        _afterModelChange: function(event) {","            var instance = this;","","            instance._handleSaveEvent();","        },","","        /**","         * Fires after `A.DiagramBuilderBase` instance is rendered.","         *","         * @method _afterRender","         * @param event","         * @protected","         */","        _afterRender: function(event) {","            var instance = this;","","            instance.plotFields();","        },","","        /**","         * Fires after `tabView` selection change.","         *","         * @method _afterSelectionChange","         * @param event","         * @protected","         */","        _afterSelectionChange: function(event) {","            var instance = this,","                tabview = event.newVal,","                tabNode;","","            if (tabview) {","                tabNode = tabview.get('panelNode');","","                if (instance.get('rendered') && (tabNode === instance.settingsNode)) {","                    instance._renderSettings();","                }","            }","        },","","        /**","         * Fires after setting height in the UI.","         *","         * @method _afterUiSetHeight","         * @param val","         * @protected","         */","        _afterUiSetHeight: function(val) {","            var instance = this;","","            instance.contentContainer.setStyle('height', isNumber(val) ? val + instance.DEF_UNIT : val);","            instance.dropContainer.setStyle('height', isNumber(val) ? val + instance.DEF_UNIT : val);","        },","","        /**","         * Selects the `tabView` child at index zero.","         *","         * @method _defCancelFn","         * @param event","         * @protected","         */","        _defCancelFn: function(event) {","            var instance = this;","","            instance.tabView.selectChild(0);","        },","","        /**","         * Fires a cancel event.","         *","         * @method _handleCancelEvent","         * @protected","         */","        _handleCancelEvent: function() {","            var instance = this;","","            instance.fire('cancel');","        },","","        /**","         * Fires a save event.","         *","         * @method _handleSaveEvent","         * @protected","         */","        _handleSaveEvent: function() {","            var instance = this;","","            instance.fire('save');","        },","","        /**","         * Renders the `canvas` attribute.","         *","         * @method _renderCanvas","         * @protected","         */","        _renderCanvas: function() {","            var instance = this;","            var contentBox = instance.get('contentBox');","            var canvas = instance.canvas;","            var contentContainer = instance.contentContainer;","            var dropContainer = instance.dropContainer;","","            if (!canvas.inDoc()) {","                contentContainer.appendChild(canvas);","            }","","            if (!dropContainer.inDoc()) {","                canvas.appendChild(dropContainer);","            }","","            if (contentContainer.inDoc()) {","                contentContainer.get('parentNode').append(contentContainer);","            }","            else {","                contentBox.appendChild(contentContainer);","            }","        },","","        /**","         * Creates an instance of `A.PropertyList` in `propertyList` attribute","         * and renders it.","         *","         * @method _renderPropertyList","         * @protected","         */","        _renderPropertyList: function() {","            var instance = this;","","            if (!instance.propertyList) {","                var propertyList = instance.propertyList = new A.PropertyList(instance.get('propertyList'));","","                propertyList.render(instance.settingsNode);","","                propertyList.get('boundingBox').unselectable().addClass(CSS_TABLE_STRIPED);","            }","        },","","        /**","         * Calls the `_renderPropertyList` and `_renderToolbar` functions.","         *","         * @method _renderSettings","         * @protected","         */","        _renderSettings: function() {","            var instance = this;","","            instance._renderPropertyList();","","            instance._renderToolbar();","        },","","        /**","         * Creates an instance of `A.TabView` in `tabView` attribute.","         *","         * @method _renderTabs","         * @protected","         */","        _renderTabs: function() {","            var instance = this;","","            if (!instance.tabView) {","                var tabView = new A.TabView(instance.get('tabView'));","","                instance.tabView = tabView;","                instance.fieldsNode = tabView.item(0).get('panelNode');","                instance.settingsNode = tabView.item(1).get('panelNode');","            }","        },","","        /**","         * Creates an instance of `A.Toolbar` in `toolbar` attribute and renders","         * it.","         *","         * @method _renderToolbar","         * @protected","         */","        _renderToolbar: function() {","            var instance = this;","","            if (!instance.toolbar) {","                instance.toolbar = new A.Toolbar(","                    instance.get('toolbar')","                ).render(instance.settingsNode);","            }","        },","","        /**","         * Creates a new instance of `A.DD.Drop` in `drop` attribute.","         *","         * @method _setupDrop","         * @protected","         */","        _setupDrop: function() {","            var instance = this;","","            instance.drop = new A.DD.Drop(","                instance.get('dropConfig')","            );","        },","","        /**","         * Creates a new instance of `A.DD.Delegate` in `availableFieldsDrag`","         * attribute.","         *","         * @method _setupAvailableFieldsDrag","         * @protected","         */","        _setupAvailableFieldsDrag: function() {","            var instance = this;","","            instance.availableFieldsDrag = new A.DD.Delegate(","                instance.get('availableFieldsDragConfig')","            );","        },","","        /**","         * Sets the `availableFields` attribute.","         *","         * @method _setAvailableFields","         * @param val","         * @protected","         */","        _setAvailableFields: function(val) {","            var instance = this;","            var fields = [];","","            AArray.each(val, function(field, index) {","                fields.push(","                    isAvailableField(field) ? field : new A.AvailableField(field)","                );","            });","","            return fields;","        },","","        /**","         * Set the `dropConfig` attribute.","         *","         * @method _setDropConfig","         * @param val","         * @protected","         */","        _setDropConfig: function(val) {","            var instance = this;","","            return A.merge({","                    bubbleTargets: instance,","                    groups: ['availableFields'],","                    node: instance.dropContainer","                },","                val || {}","            );","        },","","        /**","         * Set the `availableFieldsDragConfig` attribute.","         *","         * @method _setAvailableFieldsDragConfig","         * @param val","         * @protected","         */","        _setAvailableFieldsDragConfig: function(val) {","            var instance = this;","","            return A.merge({","                    bubbleTargets: instance,","                    container: instance.get('boundingBox'),","                    dragConfig: {","                        groups: ['availableFields'],","                        plugins: [","                            {","                                cfg: {","                                    moveOnEnd: false","                                },","                                fn: A.Plugin.DDProxy","                            }","                        ]","                    },","                    nodes: '.' + CSS_DIAGRAM_BUILDER_FIELD_DRAGGABLE","                },","                val || {}","            );","        },","","        /**","         * Sets the `propertyList` attribute.","         *","         * @method _setPropertyList","         * @param val","         * @protected","         */","        _setPropertyList: function(val) {","            var instance = this;","","            return A.merge({","                    bubbleTargets: instance,","                    width: 260,","                    scroll: {","                        height: 400,","                        width: 'auto'","                    }","                },","                val","            );","        },","","        /**","         * Sets the `tabView` attribute.","         *","         * @method _setTabView","         * @param val","         * @protected","         */","        _setTabView: function(val) {","            var instance = this,","                boundingBox = instance.get('boundingBox'),","                tabViewContentNode = boundingBox.one('.' + CSS_TABBABLE_CONTENT);","","            defaultValue = {","                after: {","                    selectionChange: A.bind(instance._afterSelectionChange, instance)","                },","                boundingBox: boundingBox.one('.' + CSS_TABBABLE),","                bubbleTargets: instance,","                cssClass: CSS_DIAGRAM_BUILDER_TABS,","                render: instance.get('contentBox'),","                srcNode: tabViewContentNode","            };","","            if (!tabViewContentNode) {","                var strings = instance.getStrings();","","                defaultValue.children = [","                    {","                        label: strings['addNode']","                    },","                    {","                        label: strings['settings'],","                        disabled: true","                    }","                ];","            }","","            return A.merge(defaultValue, val);","        },","","        /**","         * Sets the `toolbar` attribute.","         *","         * @method _setToolbar","         * @param val","         * @protected","         */","        _setToolbar: function(val) {","            var instance = this;","            var strings = instance.getStrings();","","            return A.merge({","                    bubbleTargets: instance,","                    children: [","                        {","                            on: {","                                click: A.bind(instance._handleCancelEvent, instance)","                            },","                            label: strings['close']","                        }","                    ]","                },","                val","            );","        },","","        /**","         * Sets the `availableFields` attribute in the UI.","         *","         * @method _uiSetAvailableFields","         * @param val","         * @protected","         */","        _uiSetAvailableFields: function(val) {","            var instance = this;","            var fieldsNode = instance.fieldsNode;","","            if (fieldsNode) {","                var docFrag = A.getDoc().invoke('createDocumentFragment');","","                AArray.each(val, function(field) {","                    docFrag.appendChild(field.get('node'));","                });","","                fieldsNode.setContent(","                    instance.fieldsContainer.setContent(docFrag)","                );","            }","        },","","        /**","         * Sets the `fields` attribute in the UI.","         *","         * @method _uiSetFields","         * @param event","         * @protected","         */","        _uiSetFields: function(event) {","            var instance = this;","","            if (instance.get('rendered')) {","                instance.plotFields();","            }","        }","    }","});","","A.DiagramBuilderBase = DiagramBuilderBase;","","","}, '2.5.0', {\"requires\": [\"dd\", \"collection\", \"aui-tabview\", \"aui-datatable-property-list\"], \"skinnable\": true});","","}());"]};
}
var __cov_gjsegwTQ0I4X_zDo$d1hmw = __coverage__['build/aui-diagram-builder-base/aui-diagram-builder-base.js'];
__cov_gjsegwTQ0I4X_zDo$d1hmw.s['1']++;YUI.add('aui-diagram-builder-base',function(A,NAME){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['1']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['2']++;var Lang=A.Lang,isArray=Lang.isArray,isBoolean=Lang.isBoolean,isNumber=Lang.isNumber,isObject=Lang.isObject,isString=Lang.isString,isArrayList=function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['2']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['3']++;return A.instanceOf(val,A.ArrayList);},isNode=function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['3']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['4']++;return A.instanceOf(val,A.Node);},isAvailableField=function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['4']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['5']++;return A.instanceOf(val,A.AvailableField);},AArray=A.Array,AgetClassName=A.getClassName,CSS_CLEARFIX=AgetClassName('clearfix'),CSS_DIAGRAM_BUILDER_CANVAS=AgetClassName('diagram','builder','canvas'),CSS_DIAGRAM_BUILDER_CONTENT_CONTAINER=AgetClassName('diagram','builder','content','container'),CSS_DIAGRAM_BUILDER_DROP_CONTAINER=AgetClassName('diagram','builder','drop','container'),CSS_DIAGRAM_BUILDER_FIELD=AgetClassName('diagram','builder','field'),CSS_DIAGRAM_BUILDER_FIELD_DRAGGABLE=AgetClassName('diagram','builder','field','draggable'),CSS_DIAGRAM_BUILDER_FIELD_ICON=AgetClassName('diagram','builder','field','icon'),CSS_DIAGRAM_BUILDER_FIELD_LABEL=AgetClassName('diagram','builder','field','label'),CSS_DIAGRAM_BUILDER_FIELDS_CONTAINER=AgetClassName('diagram','builder','fields','container'),CSS_DIAGRAM_BUILDER_TABS=AgetClassName('diagram','builder','tabs'),CSS_DIAGRAM_BUILDER_TOOLBAR_CONTAINER=AgetClassName('diagram','builder','toolbar','container'),CSS_ICON=AgetClassName('icon'),CSS_LAYOUT=AgetClassName('layout'),CSS_TABBABLE=AgetClassName('tabbable'),CSS_TABBABLE_CONTENT=AgetClassName('tabbable','content'),CSS_TABLE_STRIPED=AgetClassName('table','striped');__cov_gjsegwTQ0I4X_zDo$d1hmw.s['6']++;var AvailableField=A.Component.create({NAME:'availableField',ATTRS:{draggable:{value:true,validator:isBoolean},label:{validator:isString},iconClass:{validator:isString},id:{value:A.guid(),setter:'_setId',validator:isString},node:{valueFn:function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['5']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['7']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['8']++;if(!isNode(val)){__cov_gjsegwTQ0I4X_zDo$d1hmw.b['1'][0]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['9']++;val=A.Node.create(A.Lang.sub(instance.FIELD_ITEM_TEMPLATE,{iconClass:instance.get('iconClass')}));__cov_gjsegwTQ0I4X_zDo$d1hmw.s['10']++;val.setData('availableField',instance);}else{__cov_gjsegwTQ0I4X_zDo$d1hmw.b['1'][1]++;}__cov_gjsegwTQ0I4X_zDo$d1hmw.s['11']++;return val;},validator:isNode,writeOnce:true},type:{value:'node',validator:isString}},EXTENDS:A.Base,buildNodeId:function(id){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['6']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['12']++;return'availableFields'+'_'+'field'+'_'+id;},getAvailableFieldById:function(id){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['7']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['13']++;return A.AvailableField.getAvailableFieldByNode('#'+A.AvailableField.buildNodeId(id));},getAvailableFieldByNode:function(node){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['8']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['14']++;node=A.one(node);__cov_gjsegwTQ0I4X_zDo$d1hmw.s['15']++;if(isNode(node)){__cov_gjsegwTQ0I4X_zDo$d1hmw.b['2'][0]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['16']++;return node.getData('availableField');}else{__cov_gjsegwTQ0I4X_zDo$d1hmw.b['2'][1]++;}__cov_gjsegwTQ0I4X_zDo$d1hmw.s['17']++;return null;},prototype:{FIELD_ITEM_TEMPLATE:'<li class="'+CSS_DIAGRAM_BUILDER_FIELD+'">'+'<span class="'+[CSS_ICON,CSS_DIAGRAM_BUILDER_FIELD_ICON].join(' ')+' {iconClass}"></span>'+'<div class="'+CSS_DIAGRAM_BUILDER_FIELD_LABEL+'"></div>'+'</li>',initializer:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['9']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['18']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['19']++;var node=instance.get('node');__cov_gjsegwTQ0I4X_zDo$d1hmw.s['20']++;instance.after({draggableChange:instance._afterDraggableChange,idChange:instance._afterIdChange,labelChange:instance._afterLabelChange});__cov_gjsegwTQ0I4X_zDo$d1hmw.s['21']++;instance.labelNode=node.one('.'+CSS_DIAGRAM_BUILDER_FIELD_LABEL);__cov_gjsegwTQ0I4X_zDo$d1hmw.s['22']++;instance._uiSetDraggable(instance.get('draggable'));__cov_gjsegwTQ0I4X_zDo$d1hmw.s['23']++;instance._uiSetId(instance.get('id'));__cov_gjsegwTQ0I4X_zDo$d1hmw.s['24']++;instance._uiSetLabel(instance.get('label'));},_afterDraggableChange:function(event){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['10']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['25']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['26']++;instance._uiSetDraggable(event.newVal);},_afterIdChange:function(event){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['11']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['27']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['28']++;instance._uiSetId(event.newVal);},_afterLabelChange:function(event){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['12']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['29']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['30']++;instance._uiSetLabel(event.newVal);},_setId:function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['13']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['31']++;return A.AvailableField.buildNodeId(val);},_uiSetDraggable:function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['14']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['32']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['33']++;instance.get('node').toggleClass(CSS_DIAGRAM_BUILDER_FIELD_DRAGGABLE,val);},_uiSetId:function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['15']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['34']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['35']++;instance.get('node').set('id',val);},_uiSetLabel:function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['16']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['36']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['37']++;instance.get('node').attr('title',val);__cov_gjsegwTQ0I4X_zDo$d1hmw.s['38']++;instance.labelNode.setContent(val);}}});__cov_gjsegwTQ0I4X_zDo$d1hmw.s['39']++;A.AvailableField=AvailableField;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['40']++;var FieldSupport=function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['17']++;};__cov_gjsegwTQ0I4X_zDo$d1hmw.s['41']++;FieldSupport.ATTRS={fields:{value:[],setter:'_setFields',validator:function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['18']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['42']++;return(__cov_gjsegwTQ0I4X_zDo$d1hmw.b['3'][0]++,isArray(val))||(__cov_gjsegwTQ0I4X_zDo$d1hmw.b['3'][1]++,isArrayList(val));}},maxFields:{value:Infinity,validator:isNumber}};__cov_gjsegwTQ0I4X_zDo$d1hmw.s['43']++;A.mix(FieldSupport.prototype,{_setFields:function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['19']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['44']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['45']++;if(isArrayList(val)){__cov_gjsegwTQ0I4X_zDo$d1hmw.b['4'][0]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['46']++;return val;}else{__cov_gjsegwTQ0I4X_zDo$d1hmw.b['4'][1]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['47']++;return instance.createFields(val);}},_updateFields:function(fields){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['20']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['48']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['49']++;instance.set('fields',fields);},addField:function(field,index){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['21']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['50']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['51']++;if(instance.get('fields').size()<instance.get('maxFields')){__cov_gjsegwTQ0I4X_zDo$d1hmw.b['5'][0]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['52']++;var newField=instance.createField(field);__cov_gjsegwTQ0I4X_zDo$d1hmw.s['53']++;if(newField){__cov_gjsegwTQ0I4X_zDo$d1hmw.b['6'][0]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['54']++;instance._updateFields(instance.get('fields').add(newField,index));}else{__cov_gjsegwTQ0I4X_zDo$d1hmw.b['6'][1]++;}__cov_gjsegwTQ0I4X_zDo$d1hmw.s['55']++;return newField;}else{__cov_gjsegwTQ0I4X_zDo$d1hmw.b['5'][1]++;}__cov_gjsegwTQ0I4X_zDo$d1hmw.s['56']++;return null;},createFields:function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['22']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['57']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['58']++;var fields=[];__cov_gjsegwTQ0I4X_zDo$d1hmw.s['59']++;AArray.each(val,function(field,index){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['23']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['60']++;if(index<instance.get('maxFields')){__cov_gjsegwTQ0I4X_zDo$d1hmw.b['7'][0]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['61']++;fields.push(instance.createField(field));}else{__cov_gjsegwTQ0I4X_zDo$d1hmw.b['7'][1]++;}});__cov_gjsegwTQ0I4X_zDo$d1hmw.s['62']++;return new A.ArrayList(fields);},removeField:function(field){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['24']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['63']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['64']++;instance._updateFields(instance.get('fields').remove(field));},createField:function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['25']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['65']++;return val;}});__cov_gjsegwTQ0I4X_zDo$d1hmw.s['66']++;A.FieldSupport=FieldSupport;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['67']++;var DiagramBuilderBase=A.Component.create({NAME:'diagram-builder',ATTRS:{availableFields:{setter:'_setAvailableFields',validator:isArray},availableFieldsDragConfig:{value:null,setter:'_setAvailableFieldsDragConfig',validator:isObject},canvas:{valueFn:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['26']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['68']++;return A.Node.create(this.CANVAS_TEMPLATE);}},dropConfig:{value:null,setter:'_setDropConfig',validator:isObject},contentContainer:{valueFn:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['27']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['69']++;return A.Node.create(this.CONTENT_CONTAINER_TEMPLATE);}},dropContainer:{valueFn:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['28']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['70']++;return A.Node.create(this.DROP_CONTAINER_TEMPLATE);}},fieldsContainer:{valueFn:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['29']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['71']++;return A.Node.create(this.FIELDS_CONTAINER_TEMPLATE);}},propertyList:{setter:'_setPropertyList',validator:isObject,value:null},strings:{value:{addNode:'Add node',cancel:'Cancel',close:'Close',propertyName:'Property Name',save:'Save',settings:'Settings',value:'Value'}},tabView:{setter:'_setTabView',validator:isObject,value:null,writeOnce:true},toolbar:{setter:'_setToolbar',validator:isObject,value:null},toolbarContainer:{valueFn:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['30']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['72']++;return A.Node.create(this.TOOLBAR_CONTAINER_TEMPLATE);}}},HTML_PARSER:{contentContainer:'.'+CSS_DIAGRAM_BUILDER_CONTENT_CONTAINER,dropContainer:'.'+CSS_DIAGRAM_BUILDER_DROP_CONTAINER,fieldsContainer:'.'+CSS_DIAGRAM_BUILDER_FIELDS_CONTAINER,toolbarContainer:'.'+CSS_DIAGRAM_BUILDER_TOOLBAR_CONTAINER,canvas:'.'+CSS_DIAGRAM_BUILDER_CANVAS},UI_ATTRS:['availableFields','fields'],AUGMENTS:[A.FieldSupport],prototype:{CANVAS_TEMPLATE:'<div tabindex="1" class="'+CSS_DIAGRAM_BUILDER_CANVAS+'"></div>',CONTENT_CONTAINER_TEMPLATE:'<div class="'+CSS_DIAGRAM_BUILDER_CONTENT_CONTAINER+'"></div>',DROP_CONTAINER_TEMPLATE:'<div class="'+CSS_DIAGRAM_BUILDER_DROP_CONTAINER+'"></div>',FIELDS_CONTAINER_TEMPLATE:'<ul class="'+[CSS_DIAGRAM_BUILDER_FIELDS_CONTAINER,CSS_CLEARFIX].join(' ')+'"></ul>',TOOLBAR_CONTAINER_TEMPLATE:'<div class="'+CSS_DIAGRAM_BUILDER_TOOLBAR_CONTAINER+'"></div>',fieldsNode:null,propertyList:null,settingsNode:null,tabView:null,toolbar:null,initializer:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['31']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['73']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['74']++;instance.publish({cancel:{defaultFn:instance._defCancelFn}});__cov_gjsegwTQ0I4X_zDo$d1hmw.s['75']++;instance.after({render:instance._afterRender,'model:change':instance._afterModelChange});__cov_gjsegwTQ0I4X_zDo$d1hmw.s['76']++;instance.after(instance._afterUiSetHeight,instance,'_uiSetHeight');__cov_gjsegwTQ0I4X_zDo$d1hmw.s['77']++;instance.canvas=instance.get('canvas');__cov_gjsegwTQ0I4X_zDo$d1hmw.s['78']++;instance.contentContainer=instance.get('contentContainer');__cov_gjsegwTQ0I4X_zDo$d1hmw.s['79']++;instance.dropContainer=instance.get('dropContainer');__cov_gjsegwTQ0I4X_zDo$d1hmw.s['80']++;instance.fieldsContainer=instance.get('fieldsContainer');__cov_gjsegwTQ0I4X_zDo$d1hmw.s['81']++;instance.toolbarContainer=instance.get('toolbarContainer');},isAvailableFieldsDrag:function(drag){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['32']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['82']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['83']++;var availableFieldsDrag=instance.availableFieldsDrag;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['84']++;return drag===availableFieldsDrag.dd;},plotFields:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['33']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['85']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['86']++;var fields=instance.get('fields');__cov_gjsegwTQ0I4X_zDo$d1hmw.s['87']++;fields.each(function(field){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['34']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['88']++;instance.plotField(field);});},renderUI:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['35']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['89']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['90']++;instance._renderTabs();__cov_gjsegwTQ0I4X_zDo$d1hmw.s['91']++;instance._renderCanvas();__cov_gjsegwTQ0I4X_zDo$d1hmw.s['92']++;instance._uiSetAvailableFields(instance.get('availableFields'));},syncUI:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['36']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['93']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['94']++;var contentBox=instance.get('contentBox');__cov_gjsegwTQ0I4X_zDo$d1hmw.s['95']++;instance._setupDrop();__cov_gjsegwTQ0I4X_zDo$d1hmw.s['96']++;instance._setupAvailableFieldsDrag();__cov_gjsegwTQ0I4X_zDo$d1hmw.s['97']++;contentBox.addClass(CSS_LAYOUT);},_afterModelChange:function(event){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['37']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['98']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['99']++;instance._handleSaveEvent();},_afterRender:function(event){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['38']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['100']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['101']++;instance.plotFields();},_afterSelectionChange:function(event){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['39']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['102']++;var instance=this,tabview=event.newVal,tabNode;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['103']++;if(tabview){__cov_gjsegwTQ0I4X_zDo$d1hmw.b['8'][0]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['104']++;tabNode=tabview.get('panelNode');__cov_gjsegwTQ0I4X_zDo$d1hmw.s['105']++;if((__cov_gjsegwTQ0I4X_zDo$d1hmw.b['10'][0]++,instance.get('rendered'))&&(__cov_gjsegwTQ0I4X_zDo$d1hmw.b['10'][1]++,tabNode===instance.settingsNode)){__cov_gjsegwTQ0I4X_zDo$d1hmw.b['9'][0]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['106']++;instance._renderSettings();}else{__cov_gjsegwTQ0I4X_zDo$d1hmw.b['9'][1]++;}}else{__cov_gjsegwTQ0I4X_zDo$d1hmw.b['8'][1]++;}},_afterUiSetHeight:function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['40']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['107']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['108']++;instance.contentContainer.setStyle('height',isNumber(val)?(__cov_gjsegwTQ0I4X_zDo$d1hmw.b['11'][0]++,val+instance.DEF_UNIT):(__cov_gjsegwTQ0I4X_zDo$d1hmw.b['11'][1]++,val));__cov_gjsegwTQ0I4X_zDo$d1hmw.s['109']++;instance.dropContainer.setStyle('height',isNumber(val)?(__cov_gjsegwTQ0I4X_zDo$d1hmw.b['12'][0]++,val+instance.DEF_UNIT):(__cov_gjsegwTQ0I4X_zDo$d1hmw.b['12'][1]++,val));},_defCancelFn:function(event){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['41']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['110']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['111']++;instance.tabView.selectChild(0);},_handleCancelEvent:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['42']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['112']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['113']++;instance.fire('cancel');},_handleSaveEvent:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['43']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['114']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['115']++;instance.fire('save');},_renderCanvas:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['44']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['116']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['117']++;var contentBox=instance.get('contentBox');__cov_gjsegwTQ0I4X_zDo$d1hmw.s['118']++;var canvas=instance.canvas;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['119']++;var contentContainer=instance.contentContainer;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['120']++;var dropContainer=instance.dropContainer;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['121']++;if(!canvas.inDoc()){__cov_gjsegwTQ0I4X_zDo$d1hmw.b['13'][0]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['122']++;contentContainer.appendChild(canvas);}else{__cov_gjsegwTQ0I4X_zDo$d1hmw.b['13'][1]++;}__cov_gjsegwTQ0I4X_zDo$d1hmw.s['123']++;if(!dropContainer.inDoc()){__cov_gjsegwTQ0I4X_zDo$d1hmw.b['14'][0]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['124']++;canvas.appendChild(dropContainer);}else{__cov_gjsegwTQ0I4X_zDo$d1hmw.b['14'][1]++;}__cov_gjsegwTQ0I4X_zDo$d1hmw.s['125']++;if(contentContainer.inDoc()){__cov_gjsegwTQ0I4X_zDo$d1hmw.b['15'][0]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['126']++;contentContainer.get('parentNode').append(contentContainer);}else{__cov_gjsegwTQ0I4X_zDo$d1hmw.b['15'][1]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['127']++;contentBox.appendChild(contentContainer);}},_renderPropertyList:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['45']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['128']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['129']++;if(!instance.propertyList){__cov_gjsegwTQ0I4X_zDo$d1hmw.b['16'][0]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['130']++;var propertyList=instance.propertyList=new A.PropertyList(instance.get('propertyList'));__cov_gjsegwTQ0I4X_zDo$d1hmw.s['131']++;propertyList.render(instance.settingsNode);__cov_gjsegwTQ0I4X_zDo$d1hmw.s['132']++;propertyList.get('boundingBox').unselectable().addClass(CSS_TABLE_STRIPED);}else{__cov_gjsegwTQ0I4X_zDo$d1hmw.b['16'][1]++;}},_renderSettings:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['46']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['133']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['134']++;instance._renderPropertyList();__cov_gjsegwTQ0I4X_zDo$d1hmw.s['135']++;instance._renderToolbar();},_renderTabs:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['47']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['136']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['137']++;if(!instance.tabView){__cov_gjsegwTQ0I4X_zDo$d1hmw.b['17'][0]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['138']++;var tabView=new A.TabView(instance.get('tabView'));__cov_gjsegwTQ0I4X_zDo$d1hmw.s['139']++;instance.tabView=tabView;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['140']++;instance.fieldsNode=tabView.item(0).get('panelNode');__cov_gjsegwTQ0I4X_zDo$d1hmw.s['141']++;instance.settingsNode=tabView.item(1).get('panelNode');}else{__cov_gjsegwTQ0I4X_zDo$d1hmw.b['17'][1]++;}},_renderToolbar:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['48']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['142']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['143']++;if(!instance.toolbar){__cov_gjsegwTQ0I4X_zDo$d1hmw.b['18'][0]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['144']++;instance.toolbar=new A.Toolbar(instance.get('toolbar')).render(instance.settingsNode);}else{__cov_gjsegwTQ0I4X_zDo$d1hmw.b['18'][1]++;}},_setupDrop:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['49']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['145']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['146']++;instance.drop=new A.DD.Drop(instance.get('dropConfig'));},_setupAvailableFieldsDrag:function(){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['50']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['147']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['148']++;instance.availableFieldsDrag=new A.DD.Delegate(instance.get('availableFieldsDragConfig'));},_setAvailableFields:function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['51']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['149']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['150']++;var fields=[];__cov_gjsegwTQ0I4X_zDo$d1hmw.s['151']++;AArray.each(val,function(field,index){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['52']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['152']++;fields.push(isAvailableField(field)?(__cov_gjsegwTQ0I4X_zDo$d1hmw.b['19'][0]++,field):(__cov_gjsegwTQ0I4X_zDo$d1hmw.b['19'][1]++,new A.AvailableField(field)));});__cov_gjsegwTQ0I4X_zDo$d1hmw.s['153']++;return fields;},_setDropConfig:function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['53']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['154']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['155']++;return A.merge({bubbleTargets:instance,groups:['availableFields'],node:instance.dropContainer},(__cov_gjsegwTQ0I4X_zDo$d1hmw.b['20'][0]++,val)||(__cov_gjsegwTQ0I4X_zDo$d1hmw.b['20'][1]++,{}));},_setAvailableFieldsDragConfig:function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['54']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['156']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['157']++;return A.merge({bubbleTargets:instance,container:instance.get('boundingBox'),dragConfig:{groups:['availableFields'],plugins:[{cfg:{moveOnEnd:false},fn:A.Plugin.DDProxy}]},nodes:'.'+CSS_DIAGRAM_BUILDER_FIELD_DRAGGABLE},(__cov_gjsegwTQ0I4X_zDo$d1hmw.b['21'][0]++,val)||(__cov_gjsegwTQ0I4X_zDo$d1hmw.b['21'][1]++,{}));},_setPropertyList:function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['55']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['158']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['159']++;return A.merge({bubbleTargets:instance,width:260,scroll:{height:400,width:'auto'}},val);},_setTabView:function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['56']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['160']++;var instance=this,boundingBox=instance.get('boundingBox'),tabViewContentNode=boundingBox.one('.'+CSS_TABBABLE_CONTENT);__cov_gjsegwTQ0I4X_zDo$d1hmw.s['161']++;defaultValue={after:{selectionChange:A.bind(instance._afterSelectionChange,instance)},boundingBox:boundingBox.one('.'+CSS_TABBABLE),bubbleTargets:instance,cssClass:CSS_DIAGRAM_BUILDER_TABS,render:instance.get('contentBox'),srcNode:tabViewContentNode};__cov_gjsegwTQ0I4X_zDo$d1hmw.s['162']++;if(!tabViewContentNode){__cov_gjsegwTQ0I4X_zDo$d1hmw.b['22'][0]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['163']++;var strings=instance.getStrings();__cov_gjsegwTQ0I4X_zDo$d1hmw.s['164']++;defaultValue.children=[{label:strings['addNode']},{label:strings['settings'],disabled:true}];}else{__cov_gjsegwTQ0I4X_zDo$d1hmw.b['22'][1]++;}__cov_gjsegwTQ0I4X_zDo$d1hmw.s['165']++;return A.merge(defaultValue,val);},_setToolbar:function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['57']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['166']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['167']++;var strings=instance.getStrings();__cov_gjsegwTQ0I4X_zDo$d1hmw.s['168']++;return A.merge({bubbleTargets:instance,children:[{on:{click:A.bind(instance._handleCancelEvent,instance)},label:strings['close']}]},val);},_uiSetAvailableFields:function(val){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['58']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['169']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['170']++;var fieldsNode=instance.fieldsNode;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['171']++;if(fieldsNode){__cov_gjsegwTQ0I4X_zDo$d1hmw.b['23'][0]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['172']++;var docFrag=A.getDoc().invoke('createDocumentFragment');__cov_gjsegwTQ0I4X_zDo$d1hmw.s['173']++;AArray.each(val,function(field){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['59']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['174']++;docFrag.appendChild(field.get('node'));});__cov_gjsegwTQ0I4X_zDo$d1hmw.s['175']++;fieldsNode.setContent(instance.fieldsContainer.setContent(docFrag));}else{__cov_gjsegwTQ0I4X_zDo$d1hmw.b['23'][1]++;}},_uiSetFields:function(event){__cov_gjsegwTQ0I4X_zDo$d1hmw.f['60']++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['176']++;var instance=this;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['177']++;if(instance.get('rendered')){__cov_gjsegwTQ0I4X_zDo$d1hmw.b['24'][0]++;__cov_gjsegwTQ0I4X_zDo$d1hmw.s['178']++;instance.plotFields();}else{__cov_gjsegwTQ0I4X_zDo$d1hmw.b['24'][1]++;}}}});__cov_gjsegwTQ0I4X_zDo$d1hmw.s['179']++;A.DiagramBuilderBase=DiagramBuilderBase;},'2.5.0',{'requires':['dd','collection','aui-tabview','aui-datatable-property-list'],'skinnable':true});
