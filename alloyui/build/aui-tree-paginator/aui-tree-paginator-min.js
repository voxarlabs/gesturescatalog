YUI.add("aui-tree-paginator",function(e,t){function a(t){var n=this;e.after(n._bindPaginatorUI,this,"bindUI"),e.after(n._syncPaginatorUI,this,"syncUI")}var n=e.Lang,r=n.isObject,i=n.isValue,s=e.getClassName,o=s("tree","node","paginator"),u='<a class="'+o+'" hrsef="javascript:void(0);">{moreResultsLabel}</a>';a.ATTRS={paginator:{setter:function(t){var r=this,i=e.Node.create(n.sub(u,{moreResultsLabel:t.moreResultsLabel||"Load more results"}));return e.merge({alwaysVisible:!1,autoFocus:!0,element:i,endParam:"end",limitParam:"limit",start:0,startParam:"start"},t)},validator:r}},a.prototype={_bindPaginatorUI:function(){var t=this,n=t.get("paginator");n&&n.element.on("click",e.bind(t._handlePaginatorClickEvent,t)),t._createEvents()},_createEvents:function(){var e=this;e.publish("paginatorClick",{defaultFn:e._defPaginatorClickFn,prefix:"tree-node-io"})},_defPaginatorClickFn:function(e){var t=this,n=t.get("paginator");i(n.limit)&&(n.start=t.getChildrenLength()),t.get("io")&&t.initIO()},_handlePaginatorClickEvent:function(e){var t=this,n=t.getEventOutputMap(t);t.fire("paginatorClick",n),e.halt()},_syncPaginatorIOData:function(e){var t=this,n=t.get("paginator");if(n&&i(n.limit)){var r=e.cfg.data||{};r[n.limitParam]=n.limit,r[n.startParam]=n.start,r[n.endParam]=n.start+n.limit,e.cfg.data=r}},_syncPaginatorUI:function(e){var t=this,n=t.get("paginator");if(n){var r=!0;e&&(r=e.length>0);var i=t.getChildrenLength(),s=n.start,o=n.total||i,u=i&&r&&o>i;if(n.alwaysVisible||u){t.get("container").append(n.element.show());if(n.autoFocus)try{n.element.focus()}catch(a){}}else n.element.hide()}}},e.TreeViewPaginator=a},"2.5.0",{requires:["yui-base"]});
