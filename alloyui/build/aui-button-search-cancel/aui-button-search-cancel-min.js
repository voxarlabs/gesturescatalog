YUI.add("aui-button-search-cancel",function(e,t){var n=e.Lang,r=e.Array,i=e.one(e.config.doc),s=e.Base.create("btn-search-cancel",e.Base,[],{TEMPLATE:'<div class="'+e.getClassName("btn-search-cancel")+'" style="padding: 5px; position: absolute; z-index: {zIndex};">'+'<i class="{iconClass}"></i>'+"</div>",_buttons:null,_eventHandles:null,initializer:function(){var e=this;e._buttons=[],e.bindUI()},destroy:function(){var t=this;r.each(t._buttons,function(e){e.getData("btn-search-cancel").unwrap().clearData("btn-search-cancel"),e.remove()}),(new e.EventHandle(t._eventHandles)).detach()},bindUI:function(){var t=this,n=t.get("container"),r=t.get("trigger");t._eventHandles=[n.delegate(["focus","input"],e.debounce(t._onUserInteraction,50,t),r),e.on("windowresize",e.bind(t._onWindowResize,t))]},getButtonForElement:function(t){var n=this,r=t.getData("btn-search-cancel");return r||(t.wrap("<span/>").ancestor().setStyle("position","relative"),r=e.Node.create(e.Lang.sub(n.TEMPLATE,{iconClass:n.get("iconClass"),zIndex:n.get("zIndex")})),n._buttons.push(r.hide()),r.setData("btn-search-cancel",t),t.setData("btn-search-cancel",r),r.on("click",n._onButtonClick,n,t)),r},_onButtonClick:function(e,t){var n=this;n._syncButtonUI(t.val("").focus())},_onUserInteraction:function(e){var t=this;t._syncButtonUI(e.target)},_onWindowResize:function(){var e=this;r.each(e._buttons,function(t){t.hasClass("hide")||e._syncButtonUI(t.getData("btn-search-cancel"))})},_syncButtonUI:function(e){var t=this,n=t.getButtonForElement(e),r,i,s;if(!e.val()){n.hide();return}e.insert(n.show(),"after"),r=t.get("gutter"),i=n.get("region"),s=e.get("region"),n.setXY([s.right-i.width+r[0],s.top+s.height/2-i.height/2+r[1]])}},{ATTRS:{container:{setter:e.one,value:i,writeOnce:!0},gutter:{value:[-5,0]},iconClass:{validator:n.isString,value:"icon-remove"},trigger:{validator:n.isString,writeOnce:!0},zIndex:{value:2,writeOnce:!0}}});e.ButtonSearchCancel=s},"2.5.0",{requires:["array-invoke","base","base-build","event-focus","event-resize","node-screen","node-event-delegate","aui-node-base","aui-classnamemanager","aui-event-input"]});
