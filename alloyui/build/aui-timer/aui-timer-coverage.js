if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/aui-timer/aui-timer.js']) {
   __coverage__['build/aui-timer/aui-timer.js'] = {"path":"build/aui-timer/aui-timer.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":21},"end":{"line":1,"column":40}}},"2":{"name":"(anonymous_2)","line":30,"loc":{"start":{"line":30,"column":19},"end":{"line":30,"column":32}}},"3":{"name":"(anonymous_3)","line":42,"loc":{"start":{"line":42,"column":18},"end":{"line":42,"column":31}}},"4":{"name":"(anonymous_4)","line":55,"loc":{"start":{"line":55,"column":18},"end":{"line":55,"column":40}}},"5":{"name":"(anonymous_5)","line":72,"loc":{"start":{"line":72,"column":18},"end":{"line":72,"column":33}}},"6":{"name":"(anonymous_6)","line":86,"loc":{"start":{"line":86,"column":16},"end":{"line":86,"column":42}}},"7":{"name":"(anonymous_7)","line":103,"loc":{"start":{"line":103,"column":17},"end":{"line":103,"column":43}}},"8":{"name":"(anonymous_8)","line":121,"loc":{"start":{"line":121,"column":14},"end":{"line":121,"column":55}}},"9":{"name":"(anonymous_9)","line":145,"loc":{"start":{"line":145,"column":9},"end":{"line":145,"column":24}}},"10":{"name":"(anonymous_10)","line":160,"loc":{"start":{"line":160,"column":16},"end":{"line":160,"column":38}}},"11":{"name":"(anonymous_11)","line":182,"loc":{"start":{"line":182,"column":13},"end":{"line":182,"column":39}}},"12":{"name":"(anonymous_12)","line":202,"loc":{"start":{"line":202,"column":27},"end":{"line":202,"column":42}}},"13":{"name":"(anonymous_13)","line":217,"loc":{"start":{"line":217,"column":25},"end":{"line":217,"column":39}}},"14":{"name":"(anonymous_14)","line":243,"loc":{"start":{"line":243,"column":18},"end":{"line":243,"column":29}}},"15":{"name":"(anonymous_15)","line":260,"loc":{"start":{"line":260,"column":15},"end":{"line":260,"column":26}}},"16":{"name":"(anonymous_16)","line":284,"loc":{"start":{"line":284,"column":11},"end":{"line":284,"column":45}}},"17":{"name":"(anonymous_17)","line":326,"loc":{"start":{"line":326,"column":13},"end":{"line":326,"column":24}}},"18":{"name":"(anonymous_18)","line":343,"loc":{"start":{"line":343,"column":23},"end":{"line":343,"column":38}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":401,"column":35}},"2":{"start":{"line":10,"column":0},"end":{"line":14,"column":21}},"3":{"start":{"line":22,"column":0},"end":{"line":355,"column":2}},"4":{"start":{"line":31,"column":8},"end":{"line":31,"column":29}},"5":{"start":{"line":33,"column":8},"end":{"line":33,"column":38}},"6":{"start":{"line":43,"column":8},"end":{"line":43,"column":29}},"7":{"start":{"line":45,"column":8},"end":{"line":45,"column":39}},"8":{"start":{"line":56,"column":8},"end":{"line":56,"column":29}},"9":{"start":{"line":58,"column":8},"end":{"line":60,"column":9}},"10":{"start":{"line":59,"column":12},"end":{"line":59,"column":45}},"11":{"start":{"line":62,"column":8},"end":{"line":62,"column":34}},"12":{"start":{"line":73,"column":8},"end":{"line":73,"column":29}},"13":{"start":{"line":75,"column":8},"end":{"line":75,"column":28}},"14":{"start":{"line":87,"column":8},"end":{"line":87,"column":29}},"15":{"start":{"line":89,"column":8},"end":{"line":89,"column":46}},"16":{"start":{"line":91,"column":8},"end":{"line":91,"column":63}},"17":{"start":{"line":104,"column":8},"end":{"line":104,"column":29}},"18":{"start":{"line":106,"column":8},"end":{"line":106,"column":46}},"19":{"start":{"line":108,"column":8},"end":{"line":108,"column":62}},"20":{"start":{"line":122,"column":8},"end":{"line":122,"column":29}},"21":{"start":{"line":124,"column":8},"end":{"line":124,"column":33}},"22":{"start":{"line":126,"column":8},"end":{"line":126,"column":26}},"23":{"start":{"line":128,"column":8},"end":{"line":128,"column":34}},"24":{"start":{"line":130,"column":8},"end":{"line":132,"column":10}},"25":{"start":{"line":134,"column":8},"end":{"line":134,"column":29}},"26":{"start":{"line":136,"column":8},"end":{"line":136,"column":18}},"27":{"start":{"line":146,"column":8},"end":{"line":146,"column":29}},"28":{"start":{"line":148,"column":8},"end":{"line":148,"column":33}},"29":{"start":{"line":150,"column":8},"end":{"line":150,"column":25}},"30":{"start":{"line":161,"column":8},"end":{"line":161,"column":29}},"31":{"start":{"line":163,"column":8},"end":{"line":163,"column":36}},"32":{"start":{"line":165,"column":8},"end":{"line":165,"column":29}},"33":{"start":{"line":167,"column":8},"end":{"line":167,"column":32}},"34":{"start":{"line":169,"column":8},"end":{"line":169,"column":68}},"35":{"start":{"line":183,"column":8},"end":{"line":183,"column":29}},"36":{"start":{"line":185,"column":8},"end":{"line":191,"column":10}},"37":{"start":{"line":203,"column":8},"end":{"line":203,"column":29}},"38":{"start":{"line":205,"column":8},"end":{"line":205,"column":69}},"39":{"start":{"line":218,"column":8},"end":{"line":218,"column":29}},"40":{"start":{"line":220,"column":8},"end":{"line":220,"column":42}},"41":{"start":{"line":222,"column":8},"end":{"line":222,"column":35}},"42":{"start":{"line":224,"column":8},"end":{"line":224,"column":28}},"43":{"start":{"line":226,"column":8},"end":{"line":231,"column":9}},"44":{"start":{"line":227,"column":12},"end":{"line":227,"column":42}},"45":{"start":{"line":230,"column":12},"end":{"line":230,"column":53}},"46":{"start":{"line":233,"column":8},"end":{"line":233,"column":31}},"47":{"start":{"line":244,"column":8},"end":{"line":244,"column":29}},"48":{"start":{"line":246,"column":8},"end":{"line":250,"column":9}},"49":{"start":{"line":247,"column":12},"end":{"line":247,"column":53}},"50":{"start":{"line":249,"column":12},"end":{"line":249,"column":42}},"51":{"start":{"line":261,"column":8},"end":{"line":261,"column":29}},"52":{"start":{"line":263,"column":8},"end":{"line":271,"column":9}},"53":{"start":{"line":264,"column":12},"end":{"line":264,"column":42}},"54":{"start":{"line":266,"column":12},"end":{"line":268,"column":14}},"55":{"start":{"line":270,"column":12},"end":{"line":270,"column":41}},"56":{"start":{"line":285,"column":8},"end":{"line":285,"column":29}},"57":{"start":{"line":287,"column":8},"end":{"line":287,"column":42}},"58":{"start":{"line":288,"column":8},"end":{"line":288,"column":36}},"59":{"start":{"line":290,"column":8},"end":{"line":290,"column":40}},"60":{"start":{"line":292,"column":8},"end":{"line":306,"column":9}},"61":{"start":{"line":293,"column":12},"end":{"line":293,"column":41}},"62":{"start":{"line":294,"column":12},"end":{"line":294,"column":37}},"63":{"start":{"line":296,"column":12},"end":{"line":305,"column":13}},"64":{"start":{"line":297,"column":16},"end":{"line":297,"column":35}},"65":{"start":{"line":299,"column":16},"end":{"line":304,"column":17}},"66":{"start":{"line":300,"column":20},"end":{"line":300,"column":53}},"67":{"start":{"line":303,"column":20},"end":{"line":303,"column":55}},"68":{"start":{"line":308,"column":8},"end":{"line":317,"column":9}},"69":{"start":{"line":309,"column":12},"end":{"line":316,"column":13}},"70":{"start":{"line":310,"column":16},"end":{"line":310,"column":76}},"71":{"start":{"line":313,"column":16},"end":{"line":315,"column":18}},"72":{"start":{"line":327,"column":8},"end":{"line":327,"column":29}},"73":{"start":{"line":329,"column":8},"end":{"line":329,"column":18}},"74":{"start":{"line":330,"column":8},"end":{"line":330,"column":58}},"75":{"start":{"line":331,"column":8},"end":{"line":331,"column":41}},"76":{"start":{"line":333,"column":8},"end":{"line":333,"column":48}},"77":{"start":{"line":344,"column":8},"end":{"line":344,"column":29}},"78":{"start":{"line":346,"column":8},"end":{"line":346,"column":40}},"79":{"start":{"line":364,"column":0},"end":{"line":364,"column":38}},"80":{"start":{"line":373,"column":0},"end":{"line":373,"column":36}},"81":{"start":{"line":385,"column":0},"end":{"line":385,"column":34}},"82":{"start":{"line":396,"column":0},"end":{"line":396,"column":32}},"83":{"start":{"line":398,"column":0},"end":{"line":398,"column":16}}},"branchMap":{"1":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":8},"end":{"line":58,"column":8}},{"start":{"line":58,"column":8},"end":{"line":58,"column":8}}]},"2":{"line":126,"type":"binary-expr","locations":[{"start":{"line":126,"column":15},"end":{"line":126,"column":19}},{"start":{"line":126,"column":23},"end":{"line":126,"column":25}}]},"3":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":15},"end":{"line":169,"column":19}},{"start":{"line":169,"column":23},"end":{"line":169,"column":47}},{"start":{"line":169,"column":51},"end":{"line":169,"column":67}}]},"4":{"line":226,"type":"if","locations":[{"start":{"line":226,"column":8},"end":{"line":226,"column":8}},{"start":{"line":226,"column":8},"end":{"line":226,"column":8}}]},"5":{"line":246,"type":"if","locations":[{"start":{"line":246,"column":8},"end":{"line":246,"column":8}},{"start":{"line":246,"column":8},"end":{"line":246,"column":8}}]},"6":{"line":246,"type":"binary-expr","locations":[{"start":{"line":246,"column":12},"end":{"line":246,"column":33}},{"start":{"line":246,"column":37},"end":{"line":246,"column":61}}]},"7":{"line":263,"type":"if","locations":[{"start":{"line":263,"column":8},"end":{"line":263,"column":8}},{"start":{"line":263,"column":8},"end":{"line":263,"column":8}}]},"8":{"line":263,"type":"binary-expr","locations":[{"start":{"line":263,"column":12},"end":{"line":263,"column":34}},{"start":{"line":263,"column":38},"end":{"line":263,"column":63}}]},"9":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":32},"end":{"line":292,"column":42}},{"start":{"line":292,"column":46},"end":{"line":292,"column":64}}]},"10":{"line":296,"type":"if","locations":[{"start":{"line":296,"column":12},"end":{"line":296,"column":12}},{"start":{"line":296,"column":12},"end":{"line":296,"column":12}}]},"11":{"line":296,"type":"binary-expr","locations":[{"start":{"line":296,"column":16},"end":{"line":296,"column":20}},{"start":{"line":296,"column":24},"end":{"line":296,"column":75}}]},"12":{"line":299,"type":"if","locations":[{"start":{"line":299,"column":16},"end":{"line":299,"column":16}},{"start":{"line":299,"column":16},"end":{"line":299,"column":16}}]},"13":{"line":308,"type":"if","locations":[{"start":{"line":308,"column":8},"end":{"line":308,"column":8}},{"start":{"line":308,"column":8},"end":{"line":308,"column":8}}]},"14":{"line":309,"type":"if","locations":[{"start":{"line":309,"column":12},"end":{"line":309,"column":12}},{"start":{"line":309,"column":12},"end":{"line":309,"column":12}}]}},"code":["(function () { YUI.add('aui-timer', function (A, NAME) {","","/**"," * Utility for timing logics used to manage [JavaScript Timer"," * Congestion](http://fitzgeraldnick.com/weblog/40/) problems."," *"," * @module aui-timer"," */","","var Lang = A.Lang,","    now = Lang.now,","    isEmpty = A.Object.isEmpty,","","    AArray = A.Array;","","/**"," * A base class for Timer."," *"," * @class A.Timer"," * @constructor"," */","var Timer = {","","    /**","     * Cancels repeated action which was set up using `setInterval` function.","     *","     * @method clearInterval","     * @param id","     */","    clearInterval: function(id) {","        var instance = Timer;","","        instance.unregister(true, id);","    },","","    /**","     * Clears the delay set by `setTimeout` function.","     *","     * @method clearTimeout","     * @param id","     */","    clearTimeout: function(id) {","        var instance = Timer;","","        instance.unregister(false, id);","    },","","    /**","     * Defines the fixed time delay between each interval.","     *","     * @method intervalTime","     * @param newInterval","     * @return {Number}","     */","    intervalTime: function(newInterval) {","        var instance = Timer;","","        if (arguments.length) {","            instance._INTERVAL = newInterval;","        }","","        return instance._INTERVAL;","    },","","    /**","     * Checks if the task is repeatable or not.","     *","     * @method isRepeatable","     * @param task","     * @return {Boolean}","     */","    isRepeatable: function(task) {","        var instance = Timer;","","        return task.repeats;","    },","","    /**","     * Calls a function after a specified delay.","     *","     * @method setTimeout","     * @param fn","     * @param ms","     * @param context","     */","    setTimeout: function(fn, ms, context) {","        var instance = Timer;","","        var args = AArray(arguments, 3, true);","","        return instance.register(false, fn, ms, context, args);","    },","","    /**","     * Calls a function repeatedly, with a fixed time delay between each call to","     * that function.","     *","     * @method setInterval","     * @param fn","     * @param ms","     * @param context","     */","    setInterval: function(fn, ms, context) {","        var instance = Timer;","","        var args = AArray(arguments, 3, true);","","        return instance.register(true, fn, ms, context, args);","    },","","    /**","     * Adds a new task to the timer.","     *","     * @method register","     * @param repeats","     * @param fn","     * @param ms","     * @param context","     * @param args","     */","    register: function(repeats, fn, ms, context, args) {","        var instance = Timer;","","        var id = (++A.Env._uidx);","","        args = args || [];","","        args.unshift(fn, context);","","        instance._TASKS[id] = instance._create(","            repeats, instance._getNearestInterval(ms), A.rbind.apply(A, args)","        );","","        instance._lazyInit();","","        return id;","    },","","    /**","     * Runs the task function.","     *","     * @method run","     * @param task","     */","    run: function(task) {","        var instance = Timer;","","        task.lastRunTime = now();","","        return task.fn();","    },","","    /**","     * Removes a task from the timer.","     *","     * @method unregister","     * @param repeats","     * @param id","     */","    unregister: function(repeats, id) {","        var instance = Timer;","","        var tasks = instance._TASKS;","","        var task = tasks[id];","","        instance._lazyDestroy();","","        return task && task.repeats === repeats && delete tasks[id];","    },","","    /**","     * Creates a collection of timer definitions.","     *","     * @method _create","     * @param repeats","     * @param ms","     * @param fn","     * @protected","     * @return {Object}","     */","    _create: function(repeats, ms, fn) {","        var instance = Timer;","","        return {","            fn: fn,","            lastRunTime: now(),","            next: ms,","            repeats: repeats,","            timeout: ms","        };","    },","","    /**","     * Subtracts the current time with the last run time. The result of this","     * operation is subtracted with the task timeout.","     *","     * @method _decrementNextRunTime","     * @param tasks","     * @protected","     */","    _decrementNextRunTime: function(task) {","        var instance = Timer;","","        return task.next = task.timeout - (now() - task.lastRunTime);","    },","","    /**","     * Calculates the nearest interval by using the modulus of the argument with","     * the interval as reference.","     *","     * @method _getNearestInterval","     * @param num","     * @protected","     * @return {Number}","     */","    _getNearestInterval: function(num) {","        var instance = Timer;","","        var interval = instance._INTERVAL;","","        var delta = num % interval;","","        var nearestInterval;","","        if (delta < interval / 2) {","            nearestInterval = num - delta;","        }","        else {","            nearestInterval = num + interval - delta;","        }","","        return nearestInterval;","    },","","    /**","     * Checks if the timer is initialized and empty, then calls the","     * `clearTimeout` function using the global interval id.","     *","     * @method _lazyDestroy","     * @protected","     */","    _lazyDestroy: function() {","        var instance = Timer;","","        if (instance._initialized && isEmpty(instance._TASKS)) {","            clearTimeout(instance._globalIntervalId);","","            instance._initialized = false;","        }","    },","","    /**","     * Checks if the timer is initialized and contains a task, then calls the","     * `setTimeout` function and stores the global interval id.","     *","     * @method _lazyInit","     * @protected","     */","    _lazyInit: function() {","        var instance = Timer;","","        if (!instance._initialized && !isEmpty(instance._TASKS)) {","            instance._lastRunTime = now();","","            instance._globalIntervalId = setTimeout(","                instance._runner, instance._INTERVAL","            );","","            instance._initialized = true;","        }","    },","","    /**","     * Goes through all pending tasks and initializes its timer or unregisters","     * it depending on the task status.","     *","     * @method _loop","     * @param i","     * @param pendingTasks","     * @param length","     * @protected","     */","    _loop: function(i, pendingTasks, length) {","        var instance = Timer;","","        var interval = instance._INTERVAL;","        var tasks = instance._TASKS;","","        var halfInterval = interval / 2;","","        for (var start = now(); i < length && now() - start < 50; i++) {","            var taskId = pendingTasks[i];","            var task = tasks[taskId];","","            if (task && instance._decrementNextRunTime(task) < halfInterval) {","                instance.run(task);","","                if (instance.isRepeatable(task)) {","                    instance._resetNextRunTime(task);","                }","                else {","                    instance.unregister(false, taskId);","                }","            }","        }","","        if (instance._initialized) {","            if (i < length) {","                instance._globalIntervalId = setTimeout(instance._loop, 10);","            }","            else {","                instance._globalIntervalId = setTimeout(","                    instance._runner, interval","                );","            }","        }","    },","","    /**","     * Gets the arguments to call the `_loop` method.","     *","     * @method _runner","     * @protected","     */","    _runner: function() {","        var instance = Timer;","","        var i = 0;","        var pendingTasks = A.Object.keys(instance._TASKS);","        var length = pendingTasks.length;","","        instance._loop(i, pendingTasks, length);","    },","","    /**","     * Resets the next run time.","     *","     * @method _resetNextRunTime","     * @param task","     * @protected","     */","    _resetNextRunTime: function(task) {","        var instance = Timer;","","        return task.next = task.timeout;","    },","","    _INTERVAL: 50,","    _TASKS: {},","","    _lastRunTime: 0,","    _globalIntervalId: 0,","    _initialized: false","};","","/**"," * Cancels repeated action which was set up using `setInterval` function."," *"," * @method A.clearInterval"," * @static"," * @param id"," */","A.clearInterval = Timer.clearInterval;","","/**"," * Clears the delay set by `setTimeout` function."," *"," * @method A.clearTimeout"," * @static"," * @param id"," */","A.clearTimeout = Timer.clearTimeout;","","/**"," * Calls a function repeatedly, with a fixed time delay between each call to"," * that function."," *"," * @method A.setInterval"," * @static"," * @param fn"," * @param ms"," * @param context"," */","A.setInterval = Timer.setInterval;","","/**"," * Calls a function after a specified delay."," *"," * @method A.setTimeout"," * @static"," * @param fn"," * @param ms"," * @param context"," */","A.setTimeout = Timer.setTimeout;","","A.Timer = Timer;","","","}, '2.5.0', {\"requires\": [\"oop\"]});","","}());"]};
}
var __cov_O7XSytRKVJ8anc1sYOOZ1A = __coverage__['build/aui-timer/aui-timer.js'];
__cov_O7XSytRKVJ8anc1sYOOZ1A.s['1']++;YUI.add('aui-timer',function(A,NAME){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['1']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['2']++;var Lang=A.Lang,now=Lang.now,isEmpty=A.Object.isEmpty,AArray=A.Array;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['3']++;var Timer={clearInterval:function(id){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['2']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['4']++;var instance=Timer;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['5']++;instance.unregister(true,id);},clearTimeout:function(id){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['3']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['6']++;var instance=Timer;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['7']++;instance.unregister(false,id);},intervalTime:function(newInterval){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['4']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['8']++;var instance=Timer;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['9']++;if(arguments.length){__cov_O7XSytRKVJ8anc1sYOOZ1A.b['1'][0]++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['10']++;instance._INTERVAL=newInterval;}else{__cov_O7XSytRKVJ8anc1sYOOZ1A.b['1'][1]++;}__cov_O7XSytRKVJ8anc1sYOOZ1A.s['11']++;return instance._INTERVAL;},isRepeatable:function(task){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['5']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['12']++;var instance=Timer;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['13']++;return task.repeats;},setTimeout:function(fn,ms,context){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['6']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['14']++;var instance=Timer;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['15']++;var args=AArray(arguments,3,true);__cov_O7XSytRKVJ8anc1sYOOZ1A.s['16']++;return instance.register(false,fn,ms,context,args);},setInterval:function(fn,ms,context){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['7']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['17']++;var instance=Timer;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['18']++;var args=AArray(arguments,3,true);__cov_O7XSytRKVJ8anc1sYOOZ1A.s['19']++;return instance.register(true,fn,ms,context,args);},register:function(repeats,fn,ms,context,args){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['8']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['20']++;var instance=Timer;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['21']++;var id=++A.Env._uidx;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['22']++;args=(__cov_O7XSytRKVJ8anc1sYOOZ1A.b['2'][0]++,args)||(__cov_O7XSytRKVJ8anc1sYOOZ1A.b['2'][1]++,[]);__cov_O7XSytRKVJ8anc1sYOOZ1A.s['23']++;args.unshift(fn,context);__cov_O7XSytRKVJ8anc1sYOOZ1A.s['24']++;instance._TASKS[id]=instance._create(repeats,instance._getNearestInterval(ms),A.rbind.apply(A,args));__cov_O7XSytRKVJ8anc1sYOOZ1A.s['25']++;instance._lazyInit();__cov_O7XSytRKVJ8anc1sYOOZ1A.s['26']++;return id;},run:function(task){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['9']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['27']++;var instance=Timer;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['28']++;task.lastRunTime=now();__cov_O7XSytRKVJ8anc1sYOOZ1A.s['29']++;return task.fn();},unregister:function(repeats,id){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['10']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['30']++;var instance=Timer;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['31']++;var tasks=instance._TASKS;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['32']++;var task=tasks[id];__cov_O7XSytRKVJ8anc1sYOOZ1A.s['33']++;instance._lazyDestroy();__cov_O7XSytRKVJ8anc1sYOOZ1A.s['34']++;return(__cov_O7XSytRKVJ8anc1sYOOZ1A.b['3'][0]++,task)&&(__cov_O7XSytRKVJ8anc1sYOOZ1A.b['3'][1]++,task.repeats===repeats)&&(__cov_O7XSytRKVJ8anc1sYOOZ1A.b['3'][2]++,delete tasks[id]);},_create:function(repeats,ms,fn){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['11']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['35']++;var instance=Timer;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['36']++;return{fn:fn,lastRunTime:now(),next:ms,repeats:repeats,timeout:ms};},_decrementNextRunTime:function(task){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['12']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['37']++;var instance=Timer;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['38']++;return task.next=task.timeout-(now()-task.lastRunTime);},_getNearestInterval:function(num){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['13']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['39']++;var instance=Timer;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['40']++;var interval=instance._INTERVAL;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['41']++;var delta=num%interval;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['42']++;var nearestInterval;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['43']++;if(delta<interval/2){__cov_O7XSytRKVJ8anc1sYOOZ1A.b['4'][0]++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['44']++;nearestInterval=num-delta;}else{__cov_O7XSytRKVJ8anc1sYOOZ1A.b['4'][1]++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['45']++;nearestInterval=num+interval-delta;}__cov_O7XSytRKVJ8anc1sYOOZ1A.s['46']++;return nearestInterval;},_lazyDestroy:function(){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['14']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['47']++;var instance=Timer;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['48']++;if((__cov_O7XSytRKVJ8anc1sYOOZ1A.b['6'][0]++,instance._initialized)&&(__cov_O7XSytRKVJ8anc1sYOOZ1A.b['6'][1]++,isEmpty(instance._TASKS))){__cov_O7XSytRKVJ8anc1sYOOZ1A.b['5'][0]++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['49']++;clearTimeout(instance._globalIntervalId);__cov_O7XSytRKVJ8anc1sYOOZ1A.s['50']++;instance._initialized=false;}else{__cov_O7XSytRKVJ8anc1sYOOZ1A.b['5'][1]++;}},_lazyInit:function(){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['15']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['51']++;var instance=Timer;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['52']++;if((__cov_O7XSytRKVJ8anc1sYOOZ1A.b['8'][0]++,!instance._initialized)&&(__cov_O7XSytRKVJ8anc1sYOOZ1A.b['8'][1]++,!isEmpty(instance._TASKS))){__cov_O7XSytRKVJ8anc1sYOOZ1A.b['7'][0]++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['53']++;instance._lastRunTime=now();__cov_O7XSytRKVJ8anc1sYOOZ1A.s['54']++;instance._globalIntervalId=setTimeout(instance._runner,instance._INTERVAL);__cov_O7XSytRKVJ8anc1sYOOZ1A.s['55']++;instance._initialized=true;}else{__cov_O7XSytRKVJ8anc1sYOOZ1A.b['7'][1]++;}},_loop:function(i,pendingTasks,length){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['16']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['56']++;var instance=Timer;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['57']++;var interval=instance._INTERVAL;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['58']++;var tasks=instance._TASKS;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['59']++;var halfInterval=interval/2;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['60']++;for(var start=now();(__cov_O7XSytRKVJ8anc1sYOOZ1A.b['9'][0]++,i<length)&&(__cov_O7XSytRKVJ8anc1sYOOZ1A.b['9'][1]++,now()-start<50);i++){__cov_O7XSytRKVJ8anc1sYOOZ1A.s['61']++;var taskId=pendingTasks[i];__cov_O7XSytRKVJ8anc1sYOOZ1A.s['62']++;var task=tasks[taskId];__cov_O7XSytRKVJ8anc1sYOOZ1A.s['63']++;if((__cov_O7XSytRKVJ8anc1sYOOZ1A.b['11'][0]++,task)&&(__cov_O7XSytRKVJ8anc1sYOOZ1A.b['11'][1]++,instance._decrementNextRunTime(task)<halfInterval)){__cov_O7XSytRKVJ8anc1sYOOZ1A.b['10'][0]++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['64']++;instance.run(task);__cov_O7XSytRKVJ8anc1sYOOZ1A.s['65']++;if(instance.isRepeatable(task)){__cov_O7XSytRKVJ8anc1sYOOZ1A.b['12'][0]++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['66']++;instance._resetNextRunTime(task);}else{__cov_O7XSytRKVJ8anc1sYOOZ1A.b['12'][1]++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['67']++;instance.unregister(false,taskId);}}else{__cov_O7XSytRKVJ8anc1sYOOZ1A.b['10'][1]++;}}__cov_O7XSytRKVJ8anc1sYOOZ1A.s['68']++;if(instance._initialized){__cov_O7XSytRKVJ8anc1sYOOZ1A.b['13'][0]++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['69']++;if(i<length){__cov_O7XSytRKVJ8anc1sYOOZ1A.b['14'][0]++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['70']++;instance._globalIntervalId=setTimeout(instance._loop,10);}else{__cov_O7XSytRKVJ8anc1sYOOZ1A.b['14'][1]++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['71']++;instance._globalIntervalId=setTimeout(instance._runner,interval);}}else{__cov_O7XSytRKVJ8anc1sYOOZ1A.b['13'][1]++;}},_runner:function(){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['17']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['72']++;var instance=Timer;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['73']++;var i=0;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['74']++;var pendingTasks=A.Object.keys(instance._TASKS);__cov_O7XSytRKVJ8anc1sYOOZ1A.s['75']++;var length=pendingTasks.length;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['76']++;instance._loop(i,pendingTasks,length);},_resetNextRunTime:function(task){__cov_O7XSytRKVJ8anc1sYOOZ1A.f['18']++;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['77']++;var instance=Timer;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['78']++;return task.next=task.timeout;},_INTERVAL:50,_TASKS:{},_lastRunTime:0,_globalIntervalId:0,_initialized:false};__cov_O7XSytRKVJ8anc1sYOOZ1A.s['79']++;A.clearInterval=Timer.clearInterval;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['80']++;A.clearTimeout=Timer.clearTimeout;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['81']++;A.setInterval=Timer.setInterval;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['82']++;A.setTimeout=Timer.setTimeout;__cov_O7XSytRKVJ8anc1sYOOZ1A.s['83']++;A.Timer=Timer;},'2.5.0',{'requires':['oop']});
